<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8"/>
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Create Driving Scenario Variations Programmatically</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "Automated Driving Toolbox"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../scenario-simulation.html",
          "name": "Scenario Simulation"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../cuboid-scenario-simulation.html",
          "name": "Cuboid Scenario Simulation"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../programmatic-scenario-authoring.html",
          "name": "Programmatic Scenario Authoring"
}

          }]
      }</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "programmatic-scenario-authoring"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Create Driving Scenario Variations Programmatically",
          "description": "Programmatically create variations of a driving scenario that was built using the Driving Scenario Designer app.",
          "thumbnailURL": "../../examples/driving/win64/LeftTurnScenarioModified.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "driving.CreateDrivingScenarioVariationsProgrammaticallyExample",
          "name": "CreateDrivingScenarioVariationsProgrammaticallyExample",
          "url": "create-driving-scenario-variations-programmatically.html"

        }</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('driving/CreateDrivingScenarioVariationsProgrammaticallyExample')"

        }</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "CreateDrivingScenarioVariationsProgrammaticallyExample.mlx",
        "LeftTurnScenario.png",
        "LeftTurnScenarioFunction.png",
        "LeftTurnScenarioModified.png",
        "LeftTurnScenarioNoSensors.m",
        "LeftTurnScenarioNoSensors.mat",
        "ScenarioVariationsWorkflow.png",
        "LeftTurnScenarioNoSensorsModified.m",
        "LeftTurnScenarioFunctionModified.png"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript"/>
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug"/>
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex"/>

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Programmatically create variations of a driving scenario that was built using the Driving Scenario Designer app."/>
<meta xmlns="http://www.w3.org/1999/xhtml" content="../../examples/driving/win64/LeftTurnScenarioModified.png" itemprop="thumbnailUrl"/>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-latest.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css"/>

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset.xml";
            product_help_location = "driving";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print"/>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1>
</div>
</div>
</div>
<div class="col-xs-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2022b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="sr-only">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"/> <div class="input-group-btn"><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div>
</div></form>
</div>
<button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div>
<div class="visible-xs" id="search_actuator"><button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div>
</div>
</div>
</div>
<div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="sr-only">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li>
</ul><ul class="nav_breadcrumb" id="ul_left_nav_productgroups"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../overview/robotics-and-autonomous-systems.html" itemprop="url"><span itemprop="title">Robotics and Autonomous Systems</span></a></li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../overview/automotive.html" itemprop="url"><span itemprop="title">Automotive</span></a></li>
</ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav">Automated Driving Toolbox</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../scenario-simulation.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Scenario Simulation</span></a></li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../cuboid-scenario-simulation.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Cuboid Scenario Simulation</span></a></li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../programmatic-scenario-authoring.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Programmatic Scenario Authoring</span></a></li>
</ul><ul class="nav_scrollspy nav">
<li class="nav_scrollspy_function"><a href="#responsive_offcanvas">Create Driving Scenario Variations Programmatically</a></li>
<li class="nav_scrollspy_title" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#CreateDrivingScenarioVariationsProgrammaticallyExample-1" class="intrnllnk">Build Scenario in App</a></li>
<li><a href="#CreateDrivingScenarioVariationsProgrammaticallyExample-2" class="intrnllnk">Export MATLAB Function of Scenario</a></li>
<li><a href="#CreateDrivingScenarioVariationsProgrammaticallyExample-3" class="intrnllnk">Modify Function to Create Scenario Variations</a></li>
<li><a href="#CreateDrivingScenarioVariationsProgrammaticallyExample-4" class="intrnllnk">Call Function to Generate Programmatic Scenarios</a></li>
<li><a href="#CreateDrivingScenarioVariationsProgrammaticallyExample-5" class="intrnllnk">Import Modified Scenario into App</a></li>
<li><a href="#CreateDrivingScenarioVariationsProgrammaticallyExample-6" class="intrnllnk">Import Modified Scenario into Simulink</a></li>
<li><a href="#d124e11907" class="intrnllnk">See Also</a></li>
<li><a href="#d124e11955" class="intrnllnk">Related Topics</a></li>
</ul>
</nav>
</div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script>
</div>
<!--END.CLASS sidebar-offcanvas--><div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 hidden-xs"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active"><a>Documentation</a></li>
<li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Examples</a></li>
<li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Functions</a></li>
<li id="crux_nav_block" class="crux_resource"><a href="../referencelist.html?type=block&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Blocks</a></li>
<li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Apps</a></li>
<li id="crux_nav_scene" class="crux_resource"><a href="../referencelist.html?type=scene&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Scenes</a></li>
</ul>
</div></nav>
</div>
<div class="visible-xs"><div class="container-fluid"><div class="row"><div class="col-xs-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources<span class="icon-arrow-down icon_16"></span></button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active"><a>Documentation</a></li>
<li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Examples</a></li>
<li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Functions</a></li>
<li id="crux_nav_mobile_block" class="crux_resource"><a href="../referencelist.html?type=block&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Blocks</a></li>
<li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Apps</a></li>
<li id="crux_nav_mobile_scene" class="crux_resource"><a href="../referencelist.html?type=scene&amp;category=programmatic-scenario-authoring&amp;s_tid=CRUX_topnav">Scenes</a></li>
</ul>
</div>
</div>
</div>
<div class="col-xs-3"><div class="translate_placeholder"></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">

<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div>
<section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section itemprop="content"><h1 class="r2022b" itemprop="title content" id="mw_2282a3a3-f2b9-4a03-9638-ae7d5b20f8d8">以编程方式创建驾驶方案变体</h1>
<div class="examples_short_list hidden_ios_android"><div data-pane="metadata" class="panel metadata_container panel-default"><div class="panel-body metadata_content"><a class="btn btn_secondary btn-block" href="matlab:openExample('driving/CreateDrivingScenarioVariationsProgrammaticallyExample')" data-ex-genre="Live Script">Open Live Script</a></div>
</div>
</div>
<div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="driving-CreateDrivingScenarioVariationsProgrammaticallyExample"/>
<meta itemprop="exampletitle" content="Create Driving Scenario Variations Programmatically"/>
</div>
<span id="CreateDrivingScenarioVariationsProgrammaticallyExample" class="anchor_target"></span><p class="shortdesc">这个例子展示了如何通过使用 <strong class="emphasis bold">Driving Scenario Designer </strong>应用程序来编程地创建驾驶场景的变化。通过编程方式创建场景的变化可以让您在多种条件下快速测试驾驶算法。</p>
<p>要创建驾驶场景的编程变化，请按照以下步骤进行操作：</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>使用 <a href="../ref/drivingscenariodesigner-app.html" data-docid="driving_ref#mw_07e6310f-b9c9-4f4c-b2f9-51e31d407766" class="a">Driving Scenario Designer</a> 应用程序交互式地构建驾驶场景。</p></li>
<li><p>导出一个生成与该场景等效的MATLAB代码的 MATLAB®函数。</p></li>
<li><p>在MATLAB编辑器中修改导出的函数以创建原始场景的变化。</p></li>
<li><p>调用该函数生成表示场景的 <a href="../ref/drivingscenario.html" data-docid="driving_ref#bvm8jbf" class="a"><code class="olink">drivingScenario</code></a> 对象。</p></li>
<li><p>将场景对象导入到应用程序中以模拟修改后的场景或生成其他场景。或者，要在Simulink®中模拟修改后的场景，可以使用 <a href="../ref/scenarioreader.html" data-docid="driving_ref#mw_0abe0f52-f25a-4829-babb-d9bafe8fdbf3" class="a">Scenario Reader</a> 块将对象导入到Simulink模型中。</p></li>
</ol>
</div>
<p>该图显示了此工作流的可视化表示形式。<span class="guiicon"><span class="inlinemediaobject"><img src="../../examples/driving/win64/CreateDrivingScenarioVariationsProgrammaticallyExample_01.png" alt="ScenarioVariationsWorkflow.png" height="277" width="1035"/></span></span></p>
<div class="procedure"><h3 class="title" id="CreateDrivingScenarioVariationsProgrammaticallyExample-1">在应用中构建方案</h3>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">使用 </span><strong class="emphasis bold">Driving Scenario Designer </strong><span style="font-family: &quot;Microsoft YaHei&quot;;">以交互方式生成用于测试算法的</span><span class="emphasis bold" _istranslated="1" style="font-family: &quot;Microsoft YaHei&quot;;">驾驶方案</span><span style="font-family: &quot;Microsoft YaHei&quot;;">。有关构建方案的更多详细信息，请参阅</span><a href="create-driving-scenario-interactively-and-generate-synthetic-detections.html" data-docid="driving_ug#mw_e49e404a-0301-4634-b5c2-c8a6da2db9f6" class="a">Create Driving Scenario Interactively and Generate Synthetic Sensor Data</a><span style="font-family: &quot;Microsoft YaHei&quot;;">。</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">此示例使用的驾驶方案基于可从 </span><strong class="emphasis bold">Driving Scenario Designer </strong><span style="font-family: &quot;Microsoft YaHei&quot;;">应用加载的预生成方案之一。</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">在应用中打开方案文件。</span></p>
<p>   <code class="literal">drivingScenarioDesigner('LeftTurnScenarioNoSensors.mat')</code></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">单击</span> <strong class="emphasis bold">Run</strong> <span style="font-family: &quot;Microsoft YaHei&quot;;">以模拟方案。在这种情况下，自我车辆向北行驶并直接穿过十字路口。同时，一辆来自十字路口左侧的车辆左转并最终停在相邻车道的自我车辆前方</span></p>
<div class="informalfigure"><div id="d124e11704" class="mediaobject"><p><img src="../../examples/driving/win64/CreateDrivingScenarioVariationsProgrammaticallyExample_02.png" alt="LeftTurnScenario.png" height="489" width="494"/></p>
</div>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">为简单起见，此方案不包括安装在自我车辆上的传感器。</span></p>
<h3 class="title" id="CreateDrivingScenarioVariationsProgrammaticallyExample-2">Export MATLAB Function of Scenario</h3>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">查看和模拟场景后，您可以将场景导出到 MATLAB 命令行。从</span> <strong class="emphasis bold">Driving Scenario Designer</strong> <span style="font-family: &quot;Microsoft YaHei&quot;;">应用程序工具之旅中，选择</span> <strong class="emphasis bold">Export &gt; MATLAB Function</strong><span style="font-family: &quot;Microsoft YaHei&quot;;">。导出的函数包含用于生成在应用程序中创建的场景的 MATLAB 代码。打开导出的功能。</span></p>
<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>open <span style="color:#A020F0">LeftTurnScenarioNoSensors.m</span>;</pre>
</div>
</div>
</div>
<div class="informalfigure"><div id="d124e11722" class="mediaobject"><p><img src="../../examples/driving/win64/CreateDrivingScenarioVariationsProgrammaticallyExample_03.png" height="47" width="618"/></p>
</div>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">调用此函数将返回驾驶方案的这些方面。</span></p>
<div class="itemizedlist"><ul><li><p><code class="literal">scenario</code> — 场景的道路和参与者，作为<span style="font-family: &quot;Microsoft YaHei&quot;;"><span style="font-family: Arial;"> </span><a href="../ref/drivingscenario.html" data-docid="driving_ref#bvm8jbf" class="a" style="font-family: Arial;"><code class="olink">drivingScenario</code></a><span style="font-family: Arial;"> </span>对象返回。</span></p></li>
<li><p><code class="literal">egoVehicle</code> — 场景中定义的自我车辆，作为 <code class="literal">Vehicle</code> 对象返回。有关详细信息，请参阅<span style="font-family: &quot;Microsoft YaHei&quot;;"><span style="font-family: Arial;"> </span><a href="../ref/drivingscenario.vehicle.html" data-docid="driving_ref#bvnhnmh-1" class="a" style="font-family: Arial;"><code class="olink">vehicle</code></a><span style="font-family: Arial;"> </span>功能。</span></p></li>
</ul>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">如果方案包含传感器，则返回的函数包含用于生成传感器的其他代码。如果模拟了包含这些传感器的方案，则该函数还可以生成这些传感器生成的检测。</span></p>
<h3 class="title" id="CreateDrivingScenarioVariationsProgrammaticallyExample-3">Modify Function to Create Scenario Variations</h3>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">通过修改导出的 MATLAB 函数中的代码，您可以生成单个场景的多个变体。一种常见的变化是以不同的速度测试自我车辆。在导出的 MATLAB 函数中，自我车辆的速度设置为每秒</span>10 <span style="font-family: &quot;Microsoft YaHei&quot;;">米的恒定值</span>(<code class="literal">speed = 10</code>)<span style="font-family: &quot;Microsoft YaHei&quot;;">。要生成不同的自我车速，您可以将速度变量转换为函数的输入参数。打开包含导出函数的修改版本的脚本</span></p>
<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>open <span style="color:#A020F0">LeftTurnScenarioNoSensorsModified.m</span>;</pre>
</div>
</div>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">在此修改后的函数中：</span></p>
<div class="itemizedlist"><ul><li><p><code class="literal">egoSpeed</code> 作为输入参数包含在内。</p></li>
<li><p><code class="literal">speed</code>, 常量变量将被删除。</p></li>
<li><p>为了计算自动驾驶车辆的轨迹，使用的是 <code class="literal">egoSpeed</code> 而不是 <code class="literal">speed</code>。 </p></li>
</ul>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">下图显示了这些脚本修改。</span></p>
<div class="informalfigure"><div id="d124e11769" class="mediaobject"><p><img src="../../examples/driving/win64/CreateDrivingScenarioVariationsProgrammaticallyExample_04.png" alt="LeftTurnScenarioFunctionModified.png" height="271" width="1058"/></p>
</div>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">要生成其他变体，请考虑：</span></p>
<div class="itemizedlist"><ul><li><p>修改道路和车道参数以查看对车道检测的影响<br/></p></li>
<li><p>修改车辆的轨迹或起始位置<br/></p></li>
<li><p>修改车辆的尺寸<br/></p></li>
</ul>
</div>
<h3 class="title" id="CreateDrivingScenarioVariationsProgrammaticallyExample-4">Call Function to Generate Programmatic Scenarios</h3>
<p><span style="font-family: &quot;Microsoft YaHei&quot;;">使用修改后的功能，生成自我车辆以每秒 20 米的恒定速度行驶的场景的变化。</span></p>
<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>scenario = LeftTurnScenarioNoSensorsModified(20) <span style="color:#228B22">% m/s</span></pre>
</div>
</div>
</div>
<div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>scenario = 
  drivingScenario with properties:

        SampleTime: 0.0400
          StopTime: Inf
    SimulationTime: 0
         IsRunning: 1
            Actors: [1x2 driving.scenario.Vehicle]
          Barriers: [0x0 driving.scenario.Barrier]
       ParkingLots: [0x0 driving.scenario.ParkingLot]

</pre>
</div>
</div>
</div>
<h3 class="title" id="CreateDrivingScenarioVariationsProgrammaticallyExample-5">Import Modified Scenario into App</h3>
<p>要将修改后的场景和修改后的车辆导入到应用程序中，可以使用 <code class="literal">drivingScenarioDesigner</code> 函数。将 <code class="literal">drivingScenario</code> 对象指定为输入参数。</p>
<p>   <code class="literal">drivingScenarioDesigner(scenario)</code></p>
<div class="informalfigure"><div id="d124e11800" class="mediaobject"><p><img src="../../examples/driving/win64/CreateDrivingScenarioVariationsProgrammaticallyExample_05.png" alt="LeftTurnScenarioModified.png" height="489" width="494"/></p>
</div>
</div>
<p>以前，另一辆车先通过了十字路口。现在，将自动驾驶车辆的速度从10米/秒增加到20米/秒后，自动驾驶车辆先通过了十字路口。</p>
<p>在应用程序中使用 <code class="literal">drivingScenario</code> 对象时，请记住以下几点。</p>
<div class="itemizedlist"><ul><li><p>要尝试不同的自动驾驶车辆速度，请再次调用导出的函数，然后使用 <code class="literal">drivingScenarioDesigner</code> 函数导入新的 <code class="literal">drivingScenario</code> 对象。应用程序中没有导入这些对象的菜单选项。</p></li>
<li><p>如果您的场景包括传感器，可以使用以下语法重新打开场景和传感器: <code class="literal">drivingScenarioDesigner(scenario,sensors)</code>。</p></li>
<li><p>如果您对参与者的尺寸进行了重大更改，请确保参与者的 <code class="literal">ClassID</code> 属性与应用程序中指定的<strong class="emphasis bold">Class ID</strong>值相对应。例如，在应用程序中，汽车的<strong class="emphasis bold">Class ID</strong>为<span style="font-family: monospace;">1</span>，卡车的<strong class="emphasis bold">Class ID</strong>为 <code class="literal">2</code>。如果您以编程方式将汽车更改为具有卡车尺寸，请将该车辆的 <code class="literal">ClassID</code> 属性从 <span style="font-family: monospace;">1 </span>(car)更新为 <code class="literal">2</code> (truck)。</p></li>
</ul>
</div>
<h3 class="title" id="CreateDrivingScenarioVariationsProgrammaticallyExample-6">Import Modified Scenario into Simulink</h3>
<p>要将修改后的场景导入 Simulink 模型中，可以使用 <a href="../ref/scenarioreader.html" data-docid="driving_ref#mw_0abe0f52-f25a-4829-babb-d9bafe8fdbf3" class="a">Scenario Reader</a> 模块。该模块从保存在应用程序中的场景文件或保存在 MATLAB 工作区或模型工作区中的 <code class="literal">drivingScenario</code>变量中读取道路和参与者信息。在模型中添加Scenario Reader模块，并设置以下参数。</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>将<strong class="emphasis bold">Source of driving scenario</strong>设置为<span style="font-family: monospace;">From workspace</span>。</p></li>
<li><p>将 <strong class="emphasis bold">MATLAB or model workspace variable name</strong>设置为工作区中 <code class="literal">drivingScenario</code> 变量的名称。</p></li>
</ol>
</div>
<p>在Simulink中使用 <code class="literal">drivingScenario</code> 对象时，请注意以下几点。</p>
<div class="itemizedlist"><ul><li><p>当 <strong class="emphasis bold">Source of ego vehicle </strong>设置为 <code class="literal">Scenario </code>时，模型将使用在 <code class="literal">drivingScenario</code> 对象中定义的自车。该模块根据参与者的 <code class="literal">ActorID</code> 属性确定哪个参与者是自车。该参与者必须是 <span style="font-family: monospace;">Vehicle </span>对象 (see <a href="../ref/drivingscenario.vehicle.html" data-docid="driving_ref#bvnhnmh-1" class="a"><code class="olink">vehicle</code></a>)。要更改指定的自车，请更新 <strong class="emphasis bold">Ego vehicle ActorID</strong> 参数。</p></li>
<li><p>在将输出的参与者姿态连接到传感器模块时，请确认传感器模块中指定参与者配置文件来源的参数设置为 <code class="literal">From Scenario Reader block</code>。选择此选项后，传感器模块将直接从 <code class="literal">drivingScenario</code> 对象中指定的参与者获取参与者配置文件。</p></li>
</ul>
</div>
</div>
        <h2 id="d124e11907">See Also</h2>
<h3>Apps</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenariodesigner-app.html"><span itemprop="name">Driving
                    Scenario Designer</span></a></span></li>
</ul>
<h3>Blocks</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/radardetectiongenerator.html"><span itemprop="name"><span class="block">Radar Detection
                    Generator</span></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/visiondetectiongenerator.html"><span itemprop="name"><span class="block">Vision
                    Detection Generator</span></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/scenarioreader.html"><span itemprop="name"><span class="block">Scenario
                    Reader</span></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/lidarpointcloudgenerator.html"><span itemprop="name"><span class="block">Lidar Point
                    Cloud Generator</span></span></a></span></li>
</ul>
<h3>Functions</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenario.vehicle.html"><span itemprop="name"><code class="function">vehicle</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenario.actorprofiles.html"><span itemprop="name"><code class="function">actorProfiles</code></span></a></span></li>
</ul>
<h3>Objects</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenario.html"><span itemprop="name"><code class="object">drivingScenario</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingradardatagenerator-system-object.html"><span itemprop="name"><code class="sysobj">drivingRadarDataGenerator</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/visiondetectiongenerator-system-object.html"><span itemprop="name"><code class="sysobj">visionDetectionGenerator</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/lidarpointcloudgenerator-system-object.html"><span itemprop="name"><code class="sysobj">lidarPointCloudGenerator</code></span></a></span></li>
</ul>
        <h2 id="d124e11955">Related Topics</h2>
<ul><li><a href="create-driving-scenario-interactively-and-generate-synthetic-detections.html" class="a">Create Driving Scenario Interactively and Generate Synthetic Sensor Data</a></li>
<li><a href="prebuilt-driving-scenarios-in-driving-scenario-designer.html" class="a">Prebuilt Driving Scenarios in Driving Scenario Designer</a></li>
<li><a href="euro-ncap-driving-scenarios-in-driving-scenario-designer.html" class="a">Euro NCAP Driving Scenarios in Driving Scenario Designer</a></li>
<li><a href="create-driving-scenario-programmatically.html" class="a">Create Driving Scenario Programmatically</a></li>
</ul>
        
    </section>
    </div>
<div class="modal fade" id="open-example-dialog" tabindex="-1" role="dialog" aria-labelledby="openExampleDialogLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button><h2 class="h3 modal-title">Open Example</h2>
</div>
<div class="modal-body" id="dialog-body"><p>You have a modified version of this example. Do you want to open this example with your edits?</p>
</div>
<div class="modal-footer"><a id="open-example-dialog-replace" class="btn btn_color_blue companion_btn" data-dismiss="modal">No, open this example and discard my edits</a><a id="open-example-dialog-continue" class="btn btn_color_blue" data-dismiss="modal">Yes</a></div>
</div>
</div>
</div>
<div class="clearfix"></div>
<div align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css"/>
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script>
</div>
</section>


</div>
</div>
</div>
</div>
<!--close_0960--><footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-xs-12">
<p class="copyright">© 1994-2022 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li>
<li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li>
<li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li>
<li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li>
</ul>
</div>
</div>
</div>
</div>
</footer>
</div>
<!--close row-offcanvas--></div>
<!--close_0970-->
</body>
</html>