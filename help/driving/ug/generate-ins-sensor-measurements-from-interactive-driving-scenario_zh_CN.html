<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8"/>
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Generate INS Sensor Measurements from Interactive Driving Scenario</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "Automated Driving Toolbox"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../scenario-simulation.html",
          "name": "Scenario Simulation"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../cuboid-scenario-simulation.html",
          "name": "Cuboid Scenario Simulation"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../interactive-scenario-authoring.html",
          "name": "Interactive Scenario Authoring"
}

          }]
      }</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "interactive-scenario-authoring"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript"/>
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug"/>
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex"/>

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Generate fused inertial navigation and GPS measurements from a driving scenario created using the Driving Scenario Designer app, and export the data to MATLAB."/>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-latest.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css"/>

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset.xml";
            product_help_location = "driving";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print"/>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1>
</div>
</div>
</div>
<div class="col-xs-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2022b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="sr-only">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"/> <div class="input-group-btn"><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div>
</div></form>
</div>
<button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div>
<div class="visible-xs" id="search_actuator"><button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div>
</div>
</div>
</div>
<div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="sr-only">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li>
</ul><ul class="nav_breadcrumb" id="ul_left_nav_productgroups"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../overview/robotics-and-autonomous-systems.html" itemprop="url"><span itemprop="title">Robotics and Autonomous Systems</span></a></li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../overview/automotive.html" itemprop="url"><span itemprop="title">Automotive</span></a></li>
</ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav">Automated Driving Toolbox</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../scenario-simulation.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Scenario Simulation</span></a></li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../cuboid-scenario-simulation.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Cuboid Scenario Simulation</span></a></li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../interactive-scenario-authoring.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Interactive Scenario Authoring</span></a></li>
</ul><ul class="nav_scrollspy nav">
<li class="nav_scrollspy_function"><a href="#responsive_offcanvas">Generate INS Sensor Measurements from Interactive Driving Scenario</a></li>
<li class="nav_scrollspy_title" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#mw_4e3a0953-029a-412c-ae52-0fae7710ca51" class="intrnllnk">Import Road Network</a></li>
<li><a href="#mw_17f690b6-ba97-494f-988e-a443273d1692" class="intrnllnk">Add Actor and Trajectory</a></li>
<li><a href="#mw_0bd0f159-71d2-4d25-bb23-b867a3b04907" class="intrnllnk">Smooth the Trajectory</a></li>
<li><a href="#mw_410839c5-6991-45c6-ad38-0297b85a86ab" class="intrnllnk">Add INS Sensor</a></li>
<li><a href="#mw_128de6d7-c2d3-41e8-a06b-bd3c33e5145d" class="intrnllnk">Simulate Scenario</a></li>
<li><a href="#mw_865a830f-cd37-4990-a747-eca502142949" class="intrnllnk">Export to MATLAB and Explore Sensor Data</a></li>
<li><a href="#mw_fe1ea612-3d2a-4a71-be9e-268725db320e" class="intrnllnk">Export Scenario and Sensor to a Simulink Model</a></li>
<li><a href="#d124e9359" class="intrnllnk">See Also</a></li>
<li><a href="#d124e9395" class="intrnllnk">Related Topics</a></li>
</ul>
</nav>
</div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script>
</div>
<!--END.CLASS sidebar-offcanvas--><div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 hidden-xs"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active"><a>Documentation</a></li>
<li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Examples</a></li>
<li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Functions</a></li>
<li id="crux_nav_block" class="crux_resource"><a href="../referencelist.html?type=block&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Blocks</a></li>
<li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Apps</a></li>
<li id="crux_nav_scene" class="crux_resource"><a href="../referencelist.html?type=scene&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Scenes</a></li>
</ul>
</div></nav>
</div>
<div class="visible-xs"><div class="container-fluid"><div class="row"><div class="col-xs-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources<span class="icon-arrow-down icon_16"></span></button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active"><a>Documentation</a></li>
<li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Examples</a></li>
<li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Functions</a></li>
<li id="crux_nav_mobile_block" class="crux_resource"><a href="../referencelist.html?type=block&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Blocks</a></li>
<li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Apps</a></li>
<li id="crux_nav_mobile_scene" class="crux_resource"><a href="../referencelist.html?type=scene&amp;category=interactive-scenario-authoring&amp;s_tid=CRUX_topnav">Scenes</a></li>
</ul>
</div>
</div>
</div>
<div class="col-xs-3"><div class="translate_placeholder"></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">

<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div>
<section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section itemprop="content"><h2 class="title r2022b" itemprop="title content" id="mw_11a05ed1-612b-4287-b011-1511eb9f0d9d">从交互式驾驶场景生成 INS 传感器测量值</h2>
<p><strong class="app"><a href="../ref/drivingscenariodesigner-app.html">Driving Scenario Designer</a></strong> 应用程序使您能够交互式地创建驾驶场景，并生成用于测试自动驾驶算法的合成传感器数据。在代表地理位置的驾驶场景中，您可以添加一个传感器，该传感器融合来自惯性导航系统（INS）和全球导航卫星系统（GNSS）（如GPS）的测量，并生成融合的测量数据。然后，您可以将这些合成的惯性传感器数据导出到 MATLAB<sup>® </sup>进行进一步分析。</p>
<section itemprop="content"><h3 class="title" id="mw_4e3a0953-029a-412c-ae52-0fae7710ca51">导入道路网络</h3>
<p>要从应用程序生成逼真的INS和GNSS传感器数据，您必须使用基于真实世界地理位置的道路网络。此示例使用从 OpenStreetMap<sup>® </sup>导入的道路网络。它是在 <a href="import-openstreetmap-data-into-driving-scenario.html" class="a">Import OpenStreetMap Data into Driving Scenario</a> 示例中使用的相同道路网络。</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>打开 <strong class="app">Driving Scenario Designer</strong> 应用程序。</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>drivingScenarioDesigner</pre>
</div>
</div>
</div><p></p></li>
<li><p>在应用程序工具栏上，选择 <strong class="guimenuitem">Import</strong>，然后选择 <strong class="guimenuitem">OpenStreetMap</strong>。</p></li>
<li><p>在 OpenStreetMap 导入对话框中，浏览此文件，其中 <code class="literal"><em class="replaceable"><code>matlabroot</code></em></code> 是您的MATLAB文件夹的根目录：</p><div class="code_responsive"><pre class="programlisting"><em class="replaceable">matlabroot</em>/examples/driving/data/applehill.osm</pre>
</div><p>该文件是从 <code class="literal"><a href="https://www.openstreetmap.org/" target="_blank">https://www.openstreetmap.org</a></code>下载的，该网站提供全球范围内的众包地图数据。该数据根据开放数据共同数据库许可证（ODbL）许可，<a href="https://opendatacommons.org/licenses/odbl/" target="_blank" style="font-family: monospace;">https://opendatacommons.org/licenses/odbl/</a>。</p><p>加载文件后，对话框的 <strong class="guilabel">Select Roads</strong> 部分显示 MathWorks<sup>®</sup> Apple Hill 校园的道路网络。</p><div class="informalfigure"><div id="d124e9119" class="mediaobject"><p class="listimage"><img src="osm2scenario_select_osm_file.png" alt="A map displaying the road network for the MathWorks Apple Hill campus. The geographic reference point has a latitude of 42.2997 degrees and a longitude of negative 71.3504 degrees." height="305" width="420"/></p>
</div>
</div></li>
<li><p>为了使本示例的驾驶场景简单，单击选择仅导入左下角的道路段。</p><div class="informalfigure"><div id="d124e9130" class="mediaobject"><p class="listimage"><img src="dsd_ins_select_roads.png" alt="Apple Hill campus map with bottom-left road segment selected in blue." height="305" width="420"/></p>
</div>
</div></li>
<li><p>单击 <strong class="guilabel">Import</strong>。应用程序将导入道路并生成道路网络。</p>
<div class="informalfigure"><div id="d124e9140" class="mediaobject"><p class="listimage"><img src="dsd_ins_imported_road.png" alt="The road network of the MathWorks Apple Hill campus in the Driving Scenario Designer app." height="485" width="490"/></p>
</div>
</div><p></p></li>
</ol>
</div>
</section>
<section itemprop="content"><h3 class="title" id="mw_17f690b6-ba97-494f-988e-a443273d1692">添加参与者和轨迹</h3>
<p>要创建与INS和GNSS传感器读数兼容的轨迹，轨迹必须平滑，具有最小的加速度变化和没有加速度不连续性。创建一个参与者并指定一个沿着道路行驶的轨迹。</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>在应用程序工具栏上，选择 <strong class="guilabel">Add Actor</strong>，然后选择 <strong class="guimenuitem">Car</strong>。</p></li>
<li><p>在 <strong class="guilabel">Scenario Canvas </strong>上，单击以将汽车添加到道路的右端。</p>
<div class="informalfigure"><div id="d124e9167" class="mediaobject"><p class="listimage"><img src="dsd_ins_add_actor.png" alt="Car added to the right end of the road" height="485" width="490"/></p>
</div>
</div><p></p></li>
<li><p>右键单击汽车，选择 <strong class="guilabel">Add Forward Waypoints</strong>。然后，单击以沿着道路的长度添加航点。当您添加最后一个航点时，按 <strong class="keycap">Enter</strong> 键将轨迹提交到道路上。</p><div class="informalfigure"><div id="d124e9179" class="mediaobject"><p class="listimage"><img src="dsd_ins_trajectory.png" alt="Car with trajectory following the length of the road" height="485" width="490"/></p>
</div>
</div></li>
</ol>
</div>
</section>
<section itemprop="content"><h3 class="title" id="mw_0bd0f159-71d2-4d25-bb23-b867a3b04907">平滑轨迹</h3>
<p>通过使用默认的轨迹值，汽车以每秒30米（约67英里/小时）的恒定速度通过每个航点。这个速度适用于高速公路场景，但对于本示例中使用的地理位置来说太快了。将汽车的速度降低到每秒5米（约11英里/小时），并在转弯处指定较慢的速度。</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>在左侧的 <strong class="guilabel">Actors</strong> 选项卡中，在 <strong class="guilabel">Trajectory</strong> 部分将<strong class="guilabel">Constant Speed (m/s)</strong> 设置为 <code class="userinput">5</code>。在 <strong class="guilabel">Waypoints, Speeds, Wait Times, and Yaw</strong> 表格中，应用程序将 <strong class="guilabel">v (m/s)</strong> 的值从 <code class="userinput">30</code> 减少到 <span style="font-family: monospace;">5</span>。</p></li>
<li><p>对于转弯处的航点，将 <strong class="guilabel">v (m/s)</strong> 的值减少到 <code class="userinput">4</code>。在这个示例轨迹中，当汽车到达航点5时，它会减速到4 m/s，并在航点6和7保持这个速度，然后在到达航点8时加速回到5 m/s。</p><div class="informalfigure"><div id="d124e9215" class="mediaobject"><p class="listimage"><img src="dsd_ins_trajectory_waypoints.png" alt="Trajectory with waypoints labeled 1 through 8 and the corresponding values in the v (m/s) table overlaid on the scenario canvas. Waypoints 5, 6, and 7 are set to 4 m/s. All other waypoints are set to 5 m/s." height="485" width="490"/></p>
</div>
</div></li>
<li><p>选择 <strong class="guilabel">Use smooth, jerk-limited trajectory</strong>，这是与INS传感器模拟一起使用的必需参数。</p><p>如果收到无法创建平滑轨迹的错误，请尝试进行以下更改：</p><div class="itemizedlist"><ul><li><p>增加汽车减速的航点之间的距离（在之前的图像中是航点4和5之间）。增加的距离给汽车更多的减速时间。同样地，您也可以延长汽车加速的航点之间的距离（在之前的图像中是航点7和8之间）。</p></li>
<li><p>减小速度值，并检查航点之间的速度差别不要太大。以之前的图像为例，如果您为最后一个航点指定了10 m/s的速度，汽车将没有足够的空间从4 m/s加速到那个速度。</p></li>
<li><p>增加 <strong class="guilabel">Jerk (m/s<sup>3</sup>)</strong> 参数值。增加这个值会增加应用程序可以计算的可能轨迹的数量，但会以减少乘客舒适度为代价。</p></li>
</ul>
</div></li>
</ol>
</div>
</section>
<section itemprop="content"><h3 class="title" id="mw_410839c5-6991-45c6-ad38-0297b85a86ab">添加INS传感器</h3>
<p>将INS传感器安装到汽车上。</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>在应用程序工具栏上，点击 <strong class="guilabel">Add INS</strong>。</p></li>
<li><p>在 <strong class="guilabel">Sensor Canvas</strong>上，点击以将INS传感器添加到预定义的 <strong class="guilabel">Rear Window</strong> 位置。将传感器放置在此位置会将传感器安装在自车原点处。</p><div class="informalfigure"><div id="d124e9255" class="mediaobject"><p class="listimage"><img src="dsd_ins_add_sensor.png" alt="Sensor canvas with INS sensor in green mounted to Rear Window location" height="532" width="482"/></p>
</div>
</div></li>
<li><p>（可选）在左侧的 <strong class="guilabel">Sensors</strong> 选项卡上，修改传感器的测量参数。例如，您可以修改偏航、俯仰和横滚读数的准确性，或者位置、速度和加速度测量的准确性。</p></li>
</ol>
</div>
</section>
<section itemprop="content"><h3 class="title" id="mw_128de6d7-c2d3-41e8-a06b-bd3c33e5145d">模拟场景</h3>
<p>通过模拟场景生成INS数据。在应用程序工具栏上，点击 <strong class="guilabel">Run</strong>。 <strong class="guilabel">Bird's-Eye Plot</strong> 中不显示传感器数据，因为该应用程序不支持INS传感器的可视化。</p>
<p>如果模拟运行速度过慢，可以增加场景的采样时间。在应用程序工具栏上，点击 <strong class="guilabel">Settings</strong>，调整 <strong class="guilabel">Sample Time (ms)</strong> 参数。</p>
</section>
<section itemprop="content"><h3 class="title" id="mw_865a830f-cd37-4990-a747-eca502142949">导出到MATLAB并探索传感器数据</h3>
<p><strong class="app">Driving Scenario Designer</strong> 应用程序可以将最近一次模拟运行的数据导出到 MATLAB 工作区，并查看生成的INS测量数据。</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>在应用程序工具栏上，选择 <strong class="guimenuitem">Export</strong> ，然后选择 <strong class="guimenuitem">Export Sensor Data</strong>。</p></li>
<li><p>将要导出的传感器数据变量命名为 <code class="literal">sensorData</code>，然后点击 <strong class="guilabel">OK</strong>。</p></li>
<li><p>探索导出的传感器数据。导出的数据是一个结构数组，包含每个模拟时间步长的参与者姿态和传感器数据。由于场景中没有产生对象检测、车道检测或点云的传感器，相应的结构字段是空数组。这里显示的结构数量与您导出的变量中的数量可能不同。</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>sensorData</pre>
</div>
</div>
</div><div class="code_responsive"><pre class="programlisting">sensorData = 

  1×89 struct array with fields:

    Time
    ActorPoses
    ObjectDetections
    LaneDetections
    PointClouds
    INSMeasurements</pre>
</div></li>
<li><p>查看第一个INS测量的数据。INS测量数据存储在一个结构体的单元数组中。由于场景只包含一个INS传感器，所以该单元数组只有一个结构体。INS测量结构体的字段与从 <a href="../ref/inssensor-system-object.html"><code class="sysobj">insSensor</code></a> System object™生成测量时产生的字段相同。这里显示的INS测量数据可能与您导出的变量中的数据不同。</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>sensorData(1).INSMeasurements{:}</pre>
</div>
</div>
</div><div class="code_responsive"><pre class="programlisting">ans = 

  struct with fields:

        Orientation: [0.5389 0.4500 160.6807]
           Position: [-48.1293 -72.3647 0.9084]
           Velocity: [-4.7473 1.6082 -0.0525]
       Acceleration: [7.0945e-11 2.0255e-10 0]
    AngularVelocity: [3.0819e-15 -1.5500e-15 -2.4593e-09]</pre>
</div></li>
</ol>
</div>
<p>通过选择应用程序中的 <strong class="guimenuitem">Export</strong> 然后选择 <strong class="guimenuitem">MATLAB Function</strong> ，您可以导出一个MATLAB函数，用于在MATLAB命令行中重现场景和INS传感器。此函数返回的INS传感器是一个 <code class="sysobj">insSensor</code> 系统对象。</p>
</section>
<section itemprop="content"><h3 class="title" id="mw_fe1ea612-3d2a-4a71-be9e-268725db320e">将场景和传感器导出到 Simulink 模型</h3>
<p><strong class="app">Driving Scenario Designer</strong> 应用程序使您能够将场景和传感器导出到 Simulink<sup>®</sup> 模型。将场景保存为 <code class="literal">INSTestScenario.MAT</code>。要为场景及其传感器生成Simulink块，在应用程序工具栏上选择 <strong class="guimenuitem">Export</strong> &gt; <strong class="guimenuitem">Export Simulink Model</strong>。该模型显示了从应用程序导出的示例块。</p>
<div class="informalfigure"><div id="d124e9353" class="mediaobject"><p><img src="dsd_exportscenariowithins.png" alt="Generated Simulink Model for a Driving Scenario with INS Sensor Mounted on Ego Vehicle" height="350" width="1458"/></p>
</div>
</div>
</section>
        <h2 id="d124e9359">See Also</h2>
<h3>Apps</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenariodesigner-app.html"><span itemprop="name">Driving
                    Scenario Designer</span></a></span></li>
</ul>
<h3>Objects</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/inssensor-system-object.html"><span itemprop="name"><code class="sysobj">insSensor</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenario.html"><span itemprop="name"><code class="object">drivingScenario</code></span></a></span></li>
</ul>
<h3>Functions</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenario.smoothtrajectory.html"><span itemprop="name"><code class="function">smoothTrajectory</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/drivingscenario.state.html"><span itemprop="name"><code class="function">state</code></span></a></span></li>
</ul>
<h3>Blocks</h3>
<ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/ins.html"><span itemprop="name"><span class="block">INS</span></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/scenarioreader.html"><span itemprop="name"><span class="block">Scenario
                    Reader</span></span></a></span></li>
</ul>
        <h2 id="d124e9395">Related Topics</h2>
<ul><li><a href="import-openstreetmap-data-into-driving-scenario.html" class="a">Import OpenStreetMap Data into Driving Scenario</a></li>
</ul>
        
    </section>
    </div>
<div class="clearfix"></div>
<div align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css"/>
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script>
</div>
</section>


</div>
</div>
</div>
</div>
<!--close_0960--><footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-xs-12">
<p class="copyright">© 1994-2022 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li>
<li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li>
<li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li>
<li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li>
</ul>
</div>
</div>
</div>
</div>
</footer>
</div>
<!--close row-offcanvas--></div>
<!--close_0970-->
</body>
</html>