%#codegen



function checkInputSize(inputSize,net_insize,callerFunction,isImageInput)
    coder.allowpcode('plain');

    if isImageInput
        netHeight=net_insize(1);
        netWidth=net_insize(2);
        netChannels=net_insize(3);

        height=inputSize(1);
        width=inputSize(2);
        channels=inputSize(3);

        coder.internal.assert(...
        coder.const(@isequal,height,netHeight),...
        'dlcoder_spkg:cnncodegen:invalid_height',...
        coder.const(@int2str,netHeight),...
callerFunction...
        );
        coder.internal.assert(...
        coder.const(@isequal,width,netWidth),...
        'dlcoder_spkg:cnncodegen:invalid_width',...
        coder.const(@int2str,netWidth),...
callerFunction...
        );
        coder.internal.assert(...
        coder.const(@isequal,channels,netChannels),...
        'dlcoder_spkg:cnncodegen:invalid_channels',...
        coder.const(@int2str,netChannels),...
callerFunction...
        );
    else
        featureDimension=inputSize(3);

        coder.internal.assert(...
        coder.const(@isequal,featureDimension,net_insize),...
        'dlcoder_spkg:cnncodegen:invalid_featuredimension',...
        coder.const(@int2str,net_insize),...
callerFunction...
        );
    end
end
