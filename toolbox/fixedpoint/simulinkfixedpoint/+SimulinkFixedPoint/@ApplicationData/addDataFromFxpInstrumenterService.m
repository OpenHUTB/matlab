function addDataFromFxpInstrumenterService(data)

...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...
...



    simObsRepo=IRInstrumentation.SimObserverRepository.getInstance();

    idMap=simObsRepo.getAllBlockSLInternalIdObjects;

    parsedData=struct;

    for row=1:length(data)

        if isfield(data(row),'BlockID')

            if(idMap.isKey(data(row).BlockID))
                parsedData.UniqueIdentifier=idMap.getDataByKey(data(row).BlockID);
                parsedData.Path=parsedData.UniqueIdentifier.getDisplayName;
                parsedData.RefMdlPath=parsedData.Path;
                parsedData.DataTypeName='double';
                parsedData.MinValue=data(row).Instrumentation.MinMaxData.Minimum;
                parsedData.MaxValue=data(row).Instrumentation.MinMaxData.Maximum;
                parsedData.numZeroes=data(row).Instrumentation.NumberOfZeroes;
                parsedData.isAlwaysInteger=data(row).Instrumentation.IsAlwaysInteger;
                parsedData.histogramValues=parseHistogramMatrix(data(row).Instrumentation.HistogramData);
                SimulinkFixedPoint.ApplicationData.addDataFromSrc(parsedData);
            end

        else
            SimulinkFixedPoint.ApplicationData.addDataFromAMSI(data(row));
        end
    end

end


function parsedMatrix=parseHistogramMatrix(data)
    parsedMatrix=zeros(length(data),3);
    for row=1:length(data)
        parsedMatrix(row,1)=int32(data(row).HistogramBin);
        parsedMatrix(row,2)=int32(data(row).HistogramStats.NumberOfPositiveValues);
        parsedMatrix(row,3)=int32(data(row).HistogramStats.NumberOfNegativeValues);
    end
end

