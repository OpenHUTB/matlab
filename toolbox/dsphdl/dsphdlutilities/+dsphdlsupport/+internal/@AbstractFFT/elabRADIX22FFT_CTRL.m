function ctrl=elabRADIX22FFT_CTRL(this,topNet,dataRate,stageNum,blockInfo,MEMSIZE,BITREVERSEDINPUT,...
    din_vld,dinXTwdl_vld,softReset,...
    rdAddr,rdEnb,procEnb,multiply_J)%#ok<INUSL>







    InportNames={din_vld.Name,dinXTwdl_vld.Name,softReset.Name};
    InportTypes=[din_vld.Type;dinXTwdl_vld.Type;softReset.Type];
    InportRates=[dataRate;dataRate;dataRate];

    OutportNames={rdAddr.Name,rdEnb.Name,procEnb.Name,multiply_J.Name};
    OutportTypes=[rdAddr.Type;rdEnb.Type;procEnb.Type;multiply_J.Type];

    ctrl=pirelab.createNewNetwork(...
    'Network',topNet,...
    'Name',['RADIX22FFT_CTRL1_',num2str(stageNum)],...
    'InportNames',InportNames,...
    'InportTypes',InportTypes,...
    'InportRates',InportRates,...
    'OutportNames',OutportNames,...
    'OutportTypes',OutportTypes...
    );

    inputPort=ctrl.PirInputSignals;
    outputPort=ctrl.PirOutputSignals;

    din_vld=inputPort(1);
    dinXTwdl_vld=inputPort(2);
    softReset=inputPort(3);

    HASRESETPORT=blockInfo.inMode(2);
    if HASRESETPORT
        syncReset=softReset;
    else
        syncReset='';
    end

    rdAddr=outputPort(1);
    rdEnb=outputPort(2);
    procEnb=outputPort(3);
    multiply_J=outputPort(4);

    fid=fopen(fullfile(matlabroot,'toolbox','dsphdl','dsphdlutilities',...
    '+dsphdlsupport','+internal','@AbstractFFT','cgireml','SDFController.m'),'r');
    fcnBody=fread(fid,Inf,'char=>char')';
    fclose(fid);

    desc='SDFController';
    ctrl_inst=ctrl.addComponent2(...
    'kind','cgireml',...
    'Name','SDFController',...
    'InputSignals',[din_vld,dinXTwdl_vld],...
    'OutputSignals',[rdAddr,rdEnb,procEnb,multiply_J],...
    'EMLFileName','SDFController',...
    'EMLFileBody',fcnBody,...
    'EMLParams',{MEMSIZE,BITREVERSEDINPUT},...
    'ExternalSynchronousResetSignal',syncReset,...
    'EMLFlag_TreatInputIntsAsFixpt',true,...
    'EMLFlag_SaturateOnIntOverflow',false,...
    'EMLFlag_TreatInputBoolsAsUfix1',false,...
    'BlockComment',desc);

    ctrl_inst.runConcurrencyMaximizer(0);

end

