function firRdyLogic=elaborateFIRReadyLogic(this,net,blockInfo,dataRate,dataIn,validIn,syncReset,...
    ready,dIn,dInVld,...
    DIN_SIGNED,DIN_WORDLENGTH,DIN_FRACTIONLENGTH,SharingFactor)




    if isempty(syncReset)
        InportNames={dataIn.Name,validIn.Name};
        InportTypes=[dataIn.Type,validIn.Type];
        InportRates=[dataRate;dataRate];
    else
        InportNames={dataIn.Name,validIn.Name,syncReset.Name};
        InportTypes=[dataIn.Type,validIn.Type,syncReset.Type];
        InportRates=[dataRate;dataRate;dataRate];
    end

    OutportNames={ready.Name,dIn.Name,dInVld.Name};
    OutportTypes=[ready.Type,dIn.Type,dInVld.Type];

    firRdyLogic=pirelab.createNewNetwork(...
    'Network',net,...
    'Name','FirRdyLogic',...
    'InportNames',InportNames,...
    'InportTypes',InportTypes,...
    'InportRates',InportRates,...
    'OutportNames',OutportNames,...
    'OutportTypes',OutportTypes...
    );

    inputPort=firRdyLogic.PirInputSignals;
    outputPort=firRdyLogic.PirOutputSignals;

    dataIn=inputPort(1);
    validIn=inputPort(2);

    if blockInfo.inMode(2)
        syncReset=inputPort(3);
    else
        syncReset=firRdyLogic.addSignal(pir_boolean_t,'syncReset');
        pirelab.getConstComp(firRdyLogic,syncReset,false);
    end

    ready=outputPort(1);
    dIn=outputPort(2);
    dInVld=outputPort(3);

    fid=fopen(fullfile(matlabroot,...
    'toolbox','dsphdl','dsphdlutilities','+dsphdlsupport','+internal',...
    '@FIRFilter','cgireml','firReadyLogic.m'));
    fcnBody=fread(fid,Inf,'char=>char');

    fclose(fid);

    rdyLogic=firRdyLogic.addComponent2(...
    'kind','cgireml',...
    'Name','firRdy',...
    'InputSignals',[dataIn,validIn,syncReset],...
    'OutputSignals',[ready,dIn,dInVld],...
    'EMLFileName','firReadyLogic',...
    'EMLFileBody',fcnBody,...
    'EMLParams',{DIN_SIGNED,DIN_WORDLENGTH,DIN_FRACTIONLENGTH,SharingFactor},...
    'ExternalSynchronousResetSignal','',...
    'EMLFlag_TreatInputIntsAsFixpt',true,...
    'EMLFlag_SaturateOnIntOverflow',false,...
    'EMLFlag_TreatInputBoolsAsUfix1',false,...
    'BlockComment','rdyLogic');

    rdyLogic.runConcurrencyMaximizer(0);

end
