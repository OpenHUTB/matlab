function validatedAntenna=validateAntenna(antenna,numAssets,functionName)

%#codegen

    coder.allowpcode('plain');

    if~isempty(antenna)

        validateattributes(antenna,...
        {'em.Antenna','em.Array','installedAntenna',...
        'customAntennaStl','phased.internal.AbstractAntennaElement',...
        'phased.internal.AbstractArray',...
        'phased.internal.AbstractSubarray',...
        'wireStack','customArrayGeometry','arrayConfig'},...
        {'vector'},functionName,'Antenna');




        if numAssets>1&&~isscalar(antenna)
            validateattributes(antenna,...
            {'em.Antenna','em.Array','installedAntenna',...
            'customAntennaStl','phased.internal.AbstractAntennaElement',...
            'phased.internal.AbstractArray',...
            'phased.internal.AbstractSubarray',...
            'wireStack','customArrayGeometry','arrayConfig'},...
            {'numel',numAssets},...
            functionName,'Antenna');
        end


        validatedAntenna=reshape(antenna,1,[]);
    else

        validatedAntenna=antenna;
    end
end

