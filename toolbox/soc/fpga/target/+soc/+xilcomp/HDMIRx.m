classdef HDMIRx<soc.xilcomp.XilinxComponentBase
    properties
frameSize
PixelClkFreq
    end

    methods
        function obj=HDMIRx(varargin)

            obj.Configuration={...
            'board_name','Xilinx Zynq ZC706 evaluation kit',...
            'hdmi_addr','0x00000000',...
            'hdmi_range','0',...
            'vtc_addr','0x00000000',...
            'vtc_range','0',...
            's2mm_addr','0x00000000',...
            's2mm_range','0',...
            'mm2s_addr','0x00000000',...
            'mm2s_range','0',...
            's2mm_mm_dw','64',...
            's2mm_s_dw','16',...
            'mm2s_mm_dw','64',...
            'mm2s_s_dw','16',...
            'mm2s_buf_depth','8',...
            's2mm_buf_depth','8',...
            'diagnostics','0',...
            's2mm_bsize','512',...
            'mm2s_bsize','512',...
            'mem_addr','0x00000000',...
            'mem_range','0',...
            };

            if nargin>0
                obj.Configuration=varargin;
            end

            obj.addClk('HDMI/s_axi_aclk','SystemClk');
            obj.addRst('HDMI/s_axi_aresetn','SystemRstn');
            obj.addClk('HDMI/aclk','IPCoreClk')
            obj.addAXI4Slave('HDMI/S_AXI','reg','sys',obj.Configuration.hdmi_addr,obj.Configuration.hdmi_range);
            obj.addAXI4Slave('HDMI/ctrl','reg','sys',obj.Configuration.vtc_addr,obj.Configuration.vtc_range);

            obj.addAXI4Master('axi_vdma_s2mm_2/m_dest_axi','memPS','memPS');
            obj.addAXI4Slave('axi_vdma_s2mm_2/s_axi','reg','sys',obj.Configuration.s2mm_addr,obj.Configuration.s2mm_range);

            obj.addAXI4Master('axi_vdma_mm2s_2/m_src_axi','memPS','memPS');
            obj.addAXI4Slave('axi_vdma_mm2s_2/s_axi','reg','sys',obj.Configuration.mm2s_addr,obj.Configuration.mm2s_range);


            obj.addRst('HDMI/vid_io_out_resetn','IPCoreRstn');
            obj.addClk('axi_vdma_s2mm_2/s_axi_aclk','SystemClk');
            obj.addRst('axi_vdma_s2mm_2/s_axi_aresetn','SystemRstn');
            obj.addClk('axi_vdma_s2mm_2/m_dest_axi_aclk','MemPSClk');
            obj.addRst('axi_vdma_s2mm_2/m_dest_axi_aresetn','MemPSRstn');
            obj.addClk('axi_vdma_s2mm_2/s_axis_aclk','IPCoreClk');
            obj.addClk('axi_vdma_mm2s_2/s_axi_aclk','SystemClk');
            obj.addRst('axi_vdma_mm2s_2/s_axi_aresetn','SystemRstn');
            obj.addClk('axi_vdma_mm2s_2/m_src_axi_aclk','MemPSClk');
            obj.addRst('axi_vdma_mm2s_2/m_src_axi_aresetn','MemPSRstn');
            obj.addClk('axi_vdma_mm2s_2/m_axis_aclk','IPCoreClk');


            obj.addInterrupt('HDMI/iic2intc_irpt');


            blkParams=hsb.blkcb2.cbutils('GetDialogParams',obj.Configuration.blkPath);
            frameParams=hsb.blkcb2.cbutils('DeriveVideoFrameParamsTb',blkParams.FrameSize);
            obj.frameSize=struct('height',frameParams.ActiveVideoLines,...
            'width',frameParams.ActivePixelsPerLine);
            pixelClk=blkParams.inFrameSampleTime/((frameParams.ActivePixelsPerLine+frameParams.PorchCount)*(frameParams.ActiveVideoLines+frameParams.BlankingCount));
            obj.PixelClkFreq=sprintf('%.3f',1/pixelClk/1e6);
            pixelClk=pixelClk*1e9;

            obj.Instance=[...
            '# Hierarchical cell: HDMI\n',...
            'proc create_hier_cell_HDMI { parentCell nameHier } {\n',...
            '\n',...
            '  variable script_folder\n',...
            '\n',...
            '  if { $parentCell eq "" || $nameHier eq "" } {\n',...
            '     catch {common::send_msg_id "BD_TCL-102" "ERROR" create_hier_cell_HDMI() - Empty argument(s)!"}\n',...
            '     return\n',...
            '  }\n',...
            '\n',...
            '  # Get object for parentCell\n',...
            '  set parentObj [get_bd_cells $parentCell]\n',...
            '  if { $parentObj == "" } {\n',...
            '     catch {common::send_msg_id "BD_TCL-100" "ERROR" "Unable to find parent cell <$parentCell>!"}\n',...
            '     return\n',...
            '  }\n',...
            '\n',...
            '  # Make sure parentObj is hier blk\n',...
            '  set parentType [get_property TYPE $parentObj]\n',...
            '  if { $parentType ne "hier" } {\n',...
            '     catch {common::send_msg_id "BD_TCL-101" "ERROR" "Parent <$parentObj> has TYPE = <$parentType>. Expected to be <hier>."}\n',...
            '     return\n',...
            '  }\n',...
            '\n',...
            '  # Save current instance; Restore later\n',...
            '  set oldCurInst [current_bd_instance .]\n',...
            '\n',...
            '  # Set parent object as current\n',...
            '  current_bd_instance $parentObj\n',...
            '\n',...
            '  # Create cell and set as current instance\n',...
            '  set hier_obj [create_bd_cell -type hier $nameHier]\n',...
            '  current_bd_instance $hier_obj\n',...
            '\n',...
            '  # Create interface pins\n',...
            '  create_bd_intf_pin -mode Master -vlnv xilinx.com:interface:iic_rtl:1.0 IIC\n',...
            '  create_bd_intf_pin -mode Slave -vlnv xilinx.com:interface:aximm_rtl:1.0 S_AXI\n',...
            '  create_bd_intf_pin -mode Slave -vlnv xilinx.com:interface:aximm_rtl:1.0 ctrl\n',...
            '  create_bd_intf_pin -mode Slave -vlnv xilinx.com:interface:axis_rtl:1.0 video_in\n',...
            '  create_bd_intf_pin -mode Master -vlnv xilinx.com:interface:axis_rtl:1.0 video_out\n',...
            '\n',...
            '  # Create pins\n',...
            '  create_bd_pin -dir O -from 63 -to 0 GPIO_I_out\n',...
            '  create_bd_pin -dir I -from 63 -to 0 GPIO_O_in\n',...
            '  create_bd_pin -dir I -from 63 -to 0 GPIO_T_in\n',...
            '  create_bd_pin -dir I -type clk aclk\n',...
            '  create_bd_pin -dir I -type rst ext_reset_in\n',...
            '  create_bd_pin -dir I hdmi_rx_clk\n',...
            '  create_bd_pin -dir I -from 15 -to 0 hdmi_rx_data\n',...
            '  create_bd_pin -dir O hdmi_tx_clk\n',...
            '  create_bd_pin -dir O -from 15 -to 0 hdmi_tx_data\n',...
            '  create_bd_pin -dir O -type intr iic2intc_irpt\n',...
            '  create_bd_pin -dir IO init\n',...
            '  create_bd_pin -dir IO rst\n',...
            '  create_bd_pin -dir I -type clk s_axi_aclk\n',...
            '  create_bd_pin -dir I -type rst s_axi_aresetn\n',...
            '  create_bd_pin -dir I -type rst vid_io_out_resetn\n',...
            '\n',...
            '  # Create instance: fmc_imageon_iic_0, and set properties\n',...
            '  set fmc_imageon_iic_0 [ create_bd_cell -type ip -vlnv xilinx.com:ip:axi_iic:2.0 fmc_imageon_iic_0 ]\n',...
            '  set_property -dict [ list CONFIG.IIC_BOARD_INTERFACE {Custom} CONFIG.USE_BOARD_FLOW {true} ] $fmc_imageon_iic_0\n',...
            '\n',...
            '  # Create instance: hdmi_rx_if_0, and set properties\n',...
            '  set hdmi_rx_if_0 [ create_bd_cell -type ip -vlnv mathworks.com:ip:hdmi_rx_if:1.0 hdmi_rx_if_0 ]\n',...
            '\n',...
            '  # Create instance: hdmi_tx_if_0, and set properties\n',...
            '  set hdmi_tx_if_0 [ create_bd_cell -type ip -vlnv mathworks.com:ip:hdmi_tx_if:1.0 hdmi_tx_if_0 ]\n',...
            '\n',...
            '  # Create instance: imageon_init_0, and set properties\n',...
            '  set imageon_init_0 [ create_bd_cell -type ip -vlnv mathworks.com:ip:imageon_init:1.0 imageon_init_0 ]\n',...
            '\n',...
            '  # Create instance: util_vector_logic_0, and set properties\n',...
            '  set util_vector_logic_0 [ create_bd_cell -type ip -vlnv xilinx.com:ip:util_vector_logic:2.0 util_vector_logic_0 ]\n',...
            '  set_property -dict [ list CONFIG.C_SIZE {1} ] $util_vector_logic_0\n',...
            '\n',...
            '  # Create instance: util_vector_logic_1, and set properties\n',...
            '  set util_vector_logic_1 [ create_bd_cell -type ip -vlnv xilinx.com:ip:util_vector_logic:2.0 util_vector_logic_1 ]\n',...
            '  set_property -dict [ list CONFIG.C_OPERATION {not} CONFIG.C_SIZE {1} CONFIG.LOGO_FILE {data/sym_notgate.png} ] $util_vector_logic_1\n',...
            '\n',...
            '  # Create instance: util_vector_logic_2, and set properties\n',...
            '  set util_vector_logic_2 [ create_bd_cell -type ip -vlnv xilinx.com:ip:util_vector_logic:2.0 util_vector_logic_2 ]\n',...
            '  set_property -dict [ list CONFIG.C_OPERATION {not} CONFIG.C_SIZE {1} CONFIG.LOGO_FILE {data/sym_notgate.png} ] $util_vector_logic_2\n',...
            '\n',...
            '  # Create instance: util_vector_logic_3, and set properties\n',...
            '  set util_vector_logic_3 [ create_bd_cell -type ip -vlnv xilinx.com:ip:util_vector_logic:2.0 util_vector_logic_3 ]\n',...
            '  set_property -dict [ list CONFIG.C_OPERATION {not} CONFIG.C_SIZE {1} CONFIG.LOGO_FILE {data/sym_notgate.png} ] $util_vector_logic_3\n',...
            '\n',...
            '  # Create instance: util_vector_logic_4, and set properties\n',...
            '  set util_vector_logic_4 [ create_bd_cell -type ip -vlnv xilinx.com:ip:util_vector_logic:2.0 util_vector_logic_4 ]\n',...
            '  set_property -dict [ list CONFIG.C_OPERATION {not} CONFIG.C_SIZE {1} CONFIG.LOGO_FILE {data/sym_notgate.png} ] $util_vector_logic_4\n',...
            '\n',...
            '  # Create instance: util_vector_logic_5, and set properties\n',...
            '  set util_vector_logic_5 [ create_bd_cell -type ip -vlnv xilinx.com:ip:util_vector_logic:2.0 util_vector_logic_5 ]\n',...
            '  set_property -dict [ list CONFIG.C_OPERATION {not} CONFIG.C_SIZE {1} CONFIG.LOGO_FILE {data/sym_notgate.png} ] $util_vector_logic_5\n',...
            '\n',...
            '  # Create instance: v_axi4s_vid_out_0, and set properties\n',...
            '  set v_axi4s_vid_out_0 [ create_bd_cell -type ip -vlnv xilinx.com:ip:v_axi4s_vid_out:4.0 v_axi4s_vid_out_0 ]\n',...
            '  set_property -dict [ list CONFIG.C_ADDR_WIDTH {12} CONFIG.C_HAS_ASYNC_CLK {1} CONFIG.C_S_AXIS_VIDEO_DATA_WIDTH {8} CONFIG.C_S_AXIS_VIDEO_FORMAT {0} ] $v_axi4s_vid_out_0\n',...
            '\n',...
            '  # Create instance: v_tc_0, and set properties\n',...
            '\n',...
            'set hdmi_reset [ create_bd_cell -type ip -vlnv xilinx.com:ip:proc_sys_reset:5.0 hdmi_reset]\n',...
            '\n',...
            '  set v_tc_0 [ create_bd_cell -type ip -vlnv xilinx.com:ip:v_tc:6.2 v_tc_0 ]\n',...
            '  set_property -dict [ list CONFIG.GEN_F0_VBLANK_HEND {1920} CONFIG.GEN_F0_VBLANK_HSTART {1920} CONFIG.GEN_F0_VFRAME_SIZE {1125} \\\n',...
            'CONFIG.GEN_F0_VSYNC_HEND {1920} CONFIG.GEN_F0_VSYNC_HSTART {1920} CONFIG.GEN_F0_VSYNC_VEND {1088} CONFIG.GEN_F0_VSYNC_VSTART {1083} \\\n',...
            'CONFIG.GEN_F1_VBLANK_HEND {1920} CONFIG.GEN_F1_VBLANK_HSTART {1920} CONFIG.GEN_F1_VFRAME_SIZE {1125} CONFIG.GEN_F1_VSYNC_HEND {1920} \\\n',...
            'CONFIG.GEN_F1_VSYNC_HSTART {1920} CONFIG.GEN_F1_VSYNC_VEND {1088} CONFIG.GEN_F1_VSYNC_VSTART {1083} CONFIG.GEN_HACTIVE_SIZE {1920} \\\n',...
            'CONFIG.GEN_HFRAME_SIZE {2200} CONFIG.GEN_HSYNC_END {2052} CONFIG.GEN_HSYNC_START {2008} CONFIG.GEN_VACTIVE_SIZE {1080} \\\n',...
            'CONFIG.HAS_AXI4_LITE {true} CONFIG.SYNC_EN {false} CONFIG.VIDEO_MODE {1080p} CONFIG.active_video_detection {true} \\\n',...
            'CONFIG.auto_generation_mode {true} CONFIG.enable_detection {true} CONFIG.horizontal_sync_detection {false} CONFIG.horizontal_sync_generation {true} \\\n',...
            'CONFIG.vertical_sync_detection {false} CONFIG.vertical_sync_generation {true} ] $v_tc_0\n',...
            '\n',...
            '  # Create instance: v_vid_in_axi4s_0, and set properties\n',...
            '  set v_vid_in_axi4s_0 [ create_bd_cell -type ip -vlnv xilinx.com:ip:v_vid_in_axi4s:4.0 v_vid_in_axi4s_0 ]\n',...
            '  set_property -dict [ list CONFIG.C_ADDR_WIDTH {12} CONFIG.C_HAS_ASYNC_CLK {1} CONFIG.C_M_AXIS_VIDEO_FORMAT {0} ] $v_vid_in_axi4s_0\n',...
            '\n',...
            '# Create instance: xlconstant_0, and set properties\n',...
            'set xlconstant_0 [ create_bd_cell -type ip -vlnv xilinx.com:ip:xlconstant:1.1 xlconstant_0 ]\n',...
            '\n',...
            '# Create instance: xlconstant_1, and set properties\n',...
            'set xlconstant_1 [ create_bd_cell -type ip -vlnv xilinx.com:ip:xlconstant:1.1 xlconstant_1 ]\n',...
            'set_property -dict [ list CONFIG.CONST_VAL {0} ] $xlconstant_1\n',...
            '\n',...
            '  # Create interface connections\n',...
            '  connect_bd_intf_net -intf_net axi_interconnect_0_M01_AXI [get_bd_intf_pins ctrl] [get_bd_intf_pins v_tc_0/ctrl]\n',...
            '  connect_bd_intf_net -intf_net fmc_imageon_icc_0_IIC [get_bd_intf_pins IIC] [get_bd_intf_pins fmc_imageon_iic_0/IIC]\n',...
            '  connect_bd_intf_net -intf_net processing_system7_0_axi_periph_M00_AXI [get_bd_intf_pins S_AXI] [get_bd_intf_pins fmc_imageon_iic_0/S_AXI]\n',...
            '  connect_bd_intf_net -intf_net v_tc_0_vtiming_out [get_bd_intf_pins v_axi4s_vid_out_0/vtiming_in] [get_bd_intf_pins v_tc_0/vtiming_out]\n',...
            '  connect_bd_intf_net -intf_net v_vid_in_axi4s_0_video_out [get_bd_intf_pins video_out] [get_bd_intf_pins v_vid_in_axi4s_0/video_out]\n',...
            '  connect_bd_intf_net -intf_net v_vid_in_axi4s_0_vtiming_out [get_bd_intf_pins v_tc_0/vtiming_in] [get_bd_intf_pins v_vid_in_axi4s_0/vtiming_out]\n',...
            '  connect_bd_intf_net -intf_net vision_algorithm_edge_ip_0_AXI4_Stream_Video_0_Master [get_bd_intf_pins video_in] [get_bd_intf_pins v_axi4s_vid_out_0/video_in]\n',...
            '\n',...
            '  # Create port connections\n',...
            '  connect_bd_net -net Net [get_bd_pins rst] [get_bd_pins imageon_init_0/rst]\n',...
            '  connect_bd_net -net Net1 [get_bd_pins init] [get_bd_pins imageon_init_0/init]\n',...
            '  connect_bd_net -net clk_50mhz [get_bd_pins s_axi_aclk] [get_bd_pins fmc_imageon_iic_0/s_axi_aclk] [get_bd_pins v_tc_0/s_axi_aclk]\n',...
            '  connect_bd_net -net clk_wiz_0_clk_out2 [get_bd_pins aclk] [get_bd_pins v_axi4s_vid_out_0/aclk] [get_bd_pins v_vid_in_axi4s_0/aclk]\n',...
            '  connect_bd_net -net fmc_imageon_iic_0_iic2intc_irpt [get_bd_pins iic2intc_irpt] [get_bd_pins fmc_imageon_iic_0/iic2intc_irpt]\n',...
            '  connect_bd_net -net hdmi_rx_data_1 [get_bd_pins hdmi_rx_data] [get_bd_pins hdmi_rx_if_0/hdmi_rx_data]\n',...
            '  connect_bd_net -net hdmi_rx_if_0_hdmi_data_de [get_bd_pins hdmi_rx_if_0/hdmi_data_de] [get_bd_pins v_vid_in_axi4s_0/vid_data]\n',...
            '  connect_bd_net -net hdmi_rx_if_0_hdmi_hs_de [get_bd_pins hdmi_rx_if_0/hdmi_hs_de] [get_bd_pins util_vector_logic_0/Op1] [get_bd_pins util_vector_logic_1/Op1]\n',...
            '  connect_bd_net -net hdmi_rx_if_0_hdmi_vs_de [get_bd_pins hdmi_rx_if_0/hdmi_vs_de] [get_bd_pins util_vector_logic_0/Op2] [get_bd_pins util_vector_logic_2/Op1]\n',...
            '  connect_bd_net -net hdmi_tx_if_0_hdmi_tx_clk [get_bd_pins hdmi_tx_clk] [get_bd_pins hdmi_tx_if_0/hdmi_tx_clk]\n',...
            '  connect_bd_net -net hdmi_tx_if_0_hdmi_tx_data [get_bd_pins hdmi_tx_data] [get_bd_pins hdmi_tx_if_0/hdmi_tx_data]\n',...
            '  connect_bd_net -net hdmii_clk_1 [get_bd_pins hdmi_rx_clk] [get_bd_pins hdmi_rx_if_0/hdmi_rx_clk]\n',...
            '  connect_bd_net -net hdmii_clk_2 [get_bd_pins hdmi_rx_if_0/hdmi_clk] [get_bd_pins hdmi_reset/slowest_sync_clk] [get_bd_pins hdmi_tx_if_0/hdmi_clk] [get_bd_pins v_axi4s_vid_out_0/vid_io_out_clk] [get_bd_pins v_tc_0/clk] [get_bd_pins v_vid_in_axi4s_0/vid_io_in_clk]\n',...
            '  connect_bd_net -net imageon_init_0_GPIO_I_out [get_bd_pins GPIO_I_out] [get_bd_pins imageon_init_0/GPIO_I_out]\n',...
            '  connect_bd_net -net proc_sys_reset_1_peripheral_aresetn [get_bd_pins hdmi_reset/peripheral_aresetn] [get_bd_pins v_tc_0/resetn] [get_bd_pins v_axi4s_vid_out_0/aresetn] [get_bd_pins v_vid_in_axi4s_0/aresetn]\n',...
            '  connect_bd_net -net proc_sys_reset_1_peripheral_reset [get_bd_pins util_vector_logic_5/Res] [get_bd_pins v_axi4s_vid_out_0/vid_io_out_reset] [get_bd_pins v_vid_in_axi4s_0/vid_io_in_reset]\n',...
            '  connect_bd_net -net processing_system7_0_GPIO_O [get_bd_pins GPIO_O_in] [get_bd_pins imageon_init_0/GPIO_O_in]\n',...
            '  connect_bd_net -net processing_system7_0_GPIO_T [get_bd_pins GPIO_T_in] [get_bd_pins imageon_init_0/GPIO_T_in]\n',...
            '  connect_bd_net -net rst_processing_system7_0_50M_peripheral_aresetn [get_bd_pins s_axi_aresetn] [get_bd_pins fmc_imageon_iic_0/s_axi_aresetn] [get_bd_pins v_tc_0/s_axi_aresetn]\n',...
            '  connect_bd_net -net util_vector_logic_0_Res [get_bd_pins util_vector_logic_0/Res] [get_bd_pins v_vid_in_axi4s_0/vid_active_video]\n',...
            '  connect_bd_net -net util_vector_logic_1_Res [get_bd_pins util_vector_logic_1/Res] [get_bd_pins v_vid_in_axi4s_0/vid_hblank]\n',...
            '  connect_bd_net -net util_vector_logic_2_Res [get_bd_pins util_vector_logic_2/Res] [get_bd_pins v_vid_in_axi4s_0/vid_vblank]\n',...
            '  connect_bd_net -net util_vector_logic_3_Res [get_bd_pins hdmi_tx_if_0/hdmi_hs_de] [get_bd_pins util_vector_logic_3/Res]\n',...
            '  connect_bd_net -net util_vector_logic_4_Res [get_bd_pins hdmi_tx_if_0/hdmi_vs_de] [get_bd_pins util_vector_logic_4/Res]\n',...
            '  connect_bd_net -net v_axi4s_vid_out_0_vid_data [get_bd_pins hdmi_tx_if_0/hdmi_data_de] [get_bd_pins v_axi4s_vid_out_0/vid_data]\n',...
            '  connect_bd_net -net v_axi4s_vid_out_0_vid_hblank [get_bd_pins util_vector_logic_3/Op1] [get_bd_pins v_axi4s_vid_out_0/vid_hblank]\n',...
            '  connect_bd_net -net v_axi4s_vid_out_0_vid_vblank [get_bd_pins util_vector_logic_4/Op1] [get_bd_pins v_axi4s_vid_out_0/vid_vblank]\n',...
            '  connect_bd_net -net vid_io_out_reset_net [get_bd_pins util_vector_logic_5/Op1] [get_bd_pins vid_io_out_resetn]\n',...
            '  connect_bd_net -net v_axi4s_vid_out_0_vtg_ce [get_bd_pins v_axi4s_vid_out_0/vtg_ce] [get_bd_pins v_tc_0/gen_clken]\n',...
            '  connect_bd_net -net xlconstant_0_dout [get_bd_pins xlconstant_0/dout] [get_bd_pins v_axi4s_vid_out_0/aclken] [get_bd_pins v_axi4s_vid_out_0/vid_io_out_ce] [get_bd_pins v_tc_0/clken] [get_bd_pins v_tc_0/det_clken] [get_bd_pins v_tc_0/s_axi_aclken] [get_bd_pins v_vid_in_axi4s_0/aclken] [get_bd_pins v_vid_in_axi4s_0/axis_enable] [get_bd_pins v_vid_in_axi4s_0/vid_io_in_ce]\n',...
            '  connect_bd_net -net xlconstant_1_dout [get_bd_pins xlconstant_1/dout] [get_bd_pins v_tc_0/fsync_in]\n',...
            '  connect_bd_net -net hdmi_ext_reset [get_bd_pins ext_reset_in] [get_bd_pins hdmi_reset/ext_reset_in]\n',...
            '  \n',...
            '  # Restore current instance\n',...
            '  current_bd_instance $oldCurInst\n',...
            '}\n',...
            '# Create instance: HDMI\n',...
            'create_hier_cell_HDMI [current_bd_instance .] HDMI\n',...
            'set_property -dict [list CONFIG.PCW_GPIO_EMIO_GPIO_ENABLE {1} CONFIG.PCW_GPIO_EMIO_GPIO_IO {64}] $processing_system7\n',...
            '\n',...
            'set fmc_imageon_iic [ create_bd_intf_port -mode Master -vlnv xilinx.com:interface:iic_rtl:1.0 fmc_imageon_iic ]\n',...
            '\n',...
            'set axi_vdma_s2mm_2 [ create_bd_cell -type ip -vlnv analog.com:user:axi_dmac:1.0 axi_vdma_s2mm_2 ]\n',...
'set_property -dict [list'...
            ,' CONFIG.CYCLIC {true}',...
            ' CONFIG.DMA_2D_TLAST_MODE {1}',...
            ' CONFIG.DMA_2D_TRANSFER {true} ',...
            ' CONFIG.DMA_LENGTH_WIDTH {24}',...
            ' CONFIG.DMA_TYPE_SRC {1} ',...
            ' CONFIG.DMA_TYPE_DEST {0}',...
            ' CONFIG.DMA_AXI_PROTOCOL_DEST {0} ',...
            ' CONFIG.DMA_DATA_WIDTH_DEST ',obj.Configuration.s2mm_mm_dw,...
            ' CONFIG.DMA_DATA_WIDTH_SRC ',obj.Configuration.s2mm_s_dw,...
            ' CONFIG.FIFO_SIZE ',obj.Configuration.s2mm_buf_depth,...
            ' CONFIG.MAX_BYTES_PER_BURST ',obj.Configuration.s2mm_bsize,...
            ' CONFIG.ENABLE_DIAGNOSTICS_IF ',obj.Configuration.diagnostics,...
            ' CONFIG.ENABLE_FRAME_LOCK {true}',...
            ' CONFIG.SYNC_TRANSFER_START {true}',...
'] $axi_vdma_s2mm_2\n'...
            ,'set axi_vdma_mm2s_2 [ create_bd_cell -type ip -vlnv analog.com:user:axi_dmac:1.0 axi_vdma_mm2s_2 ]\n',...
'set_property -dict [list'...
            ,' CONFIG.CYCLIC {true}',...
            ' CONFIG.DMA_2D_TLAST_MODE {1}',...
            ' CONFIG.DMA_2D_TRANSFER {true} ',...
            ' CONFIG.DMA_LENGTH_WIDTH {24}',...
            ' CONFIG.DMA_TYPE_SRC {0} ',...
            ' CONFIG.DMA_TYPE_DEST {1}',...
            ' CONFIG.DMA_AXI_PROTOCOL_SRC {0} ',...
            ' CONFIG.DMA_DATA_WIDTH_DEST ',obj.Configuration.mm2s_s_dw,...
            ' CONFIG.DMA_DATA_WIDTH_SRC ',obj.Configuration.mm2s_mm_dw,...
            ' CONFIG.FIFO_SIZE ',obj.Configuration.mm2s_buf_depth,...
            ' CONFIG.MAX_BYTES_PER_BURST ',obj.Configuration.mm2s_bsize,...
            ' CONFIG.ENABLE_DIAGNOSTICS_IF ',obj.Configuration.diagnostics,...
            ' CONFIG.ENABLE_FRAME_LOCK {true}',...
            ' CONFIG.SYNC_TRANSFER_START {true}',...
'] $axi_vdma_mm2s_2\n'...
            ,'connect_bd_intf_net [get_bd_intf_pins axi_vdma_mm2s_2/m_axis] -boundary_type upper [get_bd_intf_pins HDMI/video_in]\n',...
            'connect_bd_intf_net [get_bd_intf_pins axi_vdma_s2mm_2/m_framelock] [get_bd_intf_pins axi_vdma_mm2s_2/s_framelock]\n',...
            '\n',...
            'set fmc_imageon_iic_int [ create_bd_port -dir IO -type rst fmc_imageon_iic_int ]\n',...
            'set fmc_imageon_iic_rst_n [ create_bd_port -dir IO -type rst fmc_imageon_iic_rst_n ]\n',...
            'set hdmi_rx_clk [ create_bd_port -dir I -type clk hdmi_rx_clk ]\n',...
            'set hdmi_rx_data [ create_bd_port -dir I -from 15 -to 0 hdmi_rx_data ]\n',...
            'set hdmi_tx_clk [ create_bd_port -dir O -type clk hdmi_tx_clk ]\n',...
            'set hdmi_tx_data [ create_bd_port -dir O -from 15 -to 0 hdmi_tx_data ]\n',...
            '\n',...
            'hsb_connect fmc_imageon_iic HDMI/IIC\n',...
'hsb_connect HDMI/ext_reset_in processing_system7/FCLK_RESET0_N\n'...
            ,'\n',...
            'hsb_connect fmc_imageon_iic_rst_n HDMI/rst\n',...
            'hsb_connect fmc_imageon_iic_int HDMI/init\n',...
            'hsb_connect hdmi_rx_data HDMI/hdmi_rx_data\n',...
            'hsb_connect hdmi_tx_clk HDMI/hdmi_tx_clk\n',...
            'hsb_connect hdmi_tx_data HDMI/hdmi_tx_data\n',...
            'hsb_connect hdmi_rx_clk HDMI/hdmi_rx_clk\n',...
            'hsb_connect HDMI/GPIO_I_out processing_system7/GPIO_I\n',...
            'hsb_connect HDMI/GPIO_O_in processing_system7/GPIO_O\n',...
            'hsb_connect HDMI/GPIO_T_in processing_system7/GPIO_T\n',...
            ];

            switch obj.Configuration.board_name
            case 'Xilinx Zynq ZC706 evaluation kit'
                obj.Constraint=[...
                '# HDMI\n',...
                '# Clocks\n',...
                'create_clock -name hdmi_rx_clk -period  ',sprintf('%.3f',pixelClk),' [get_ports hdmi_rx_clk] \n',...
                '\n',...
                '# Clock Groups\n',...
                'set_clock_groups -asynchronous -group [get_clocks hdmi_rx_clk -include_generated_clocks]\n',...
                '\n',...
                '# I2C on FMC-HDMI-CAM\n',...
                'set_property PACKAGE_PIN AE18 [get_ports fmc_imageon_iic_scl_io]\n',...
                'set_property PACKAGE_PIN AE17 [get_ports fmc_imageon_iic_sda_io]\n',...
                'set_property PACKAGE_PIN AG15 [get_ports {fmc_imageon_iic_rst_n}]\n',...
                'set_property PACKAGE_PIN AF15 [get_ports {fmc_imageon_iic_int}]\n',...
                'set_property IOSTANDARD LVCMOS25 [get_ports fmc_imageon_iic_*]\n',...
                '\n',...
                '# HDMI Input (ADV7611) on FMC-HDMI-CAM\n',...
                'set_property PACKAGE_PIN AC28 [get_ports hdmi_rx_clk]\n',...
                'set_property PACKAGE_PIN AE26 [get_ports {hdmi_rx_data[0]}]\n',...
                'set_property PACKAGE_PIN AD25 [get_ports {hdmi_rx_data[1]}]\n',...
                'set_property PACKAGE_PIN AF25 [get_ports {hdmi_rx_data[2]}]\n',...
                'set_property PACKAGE_PIN AJ29 [get_ports {hdmi_rx_data[3]}]\n',...
                'set_property PACKAGE_PIN AK30 [get_ports {hdmi_rx_data[4]}]\n',...
                'set_property PACKAGE_PIN AE25 [get_ports {hdmi_rx_data[5]}]\n',...
                'set_property PACKAGE_PIN AJ28 [get_ports {hdmi_rx_data[6]}]\n',...
                'set_property PACKAGE_PIN AJ30 [get_ports {hdmi_rx_data[7]}]\n',...
                'set_property PACKAGE_PIN Y27 [get_ports {hdmi_rx_data[8]}]\n',...
                'set_property PACKAGE_PIN Y26 [get_ports {hdmi_rx_data[9]}]\n',...
                'set_property PACKAGE_PIN AA30 [get_ports {hdmi_rx_data[10]}]\n',...
                'set_property PACKAGE_PIN Y30 [get_ports {hdmi_rx_data[11]}]\n',...
                'set_property PACKAGE_PIN AB30 [get_ports {hdmi_rx_data[12]}]\n',...
                'set_property PACKAGE_PIN AB29 [get_ports {hdmi_rx_data[13]}]\n',...
                'set_property PACKAGE_PIN AD29 [get_ports {hdmi_rx_data[14]}]\n',...
                'set_property PACKAGE_PIN AC29 [get_ports {hdmi_rx_data[15]}]\n',...
                '\n',...
                '# HDMI Output (ADV7511) on FMC-HDMI-CAM\n',...
                'set_property PACKAGE_PIN AD28 [get_ports hdmi_tx_clk]\n',...
                'set_property PACKAGE_PIN AG29 [get_ports {hdmi_tx_data[0]}]\n',...
                'set_property PACKAGE_PIN AF29 [get_ports {hdmi_tx_data[1]}]\n',...
                'set_property PACKAGE_PIN AH29 [get_ports {hdmi_tx_data[2]}]\n',...
                'set_property PACKAGE_PIN AK26 [get_ports {hdmi_tx_data[3]}]\n',...
                'set_property PACKAGE_PIN AH28 [get_ports {hdmi_tx_data[4]}]\n',...
                'set_property PACKAGE_PIN AK28 [get_ports {hdmi_tx_data[5]}]\n',...
                'set_property PACKAGE_PIN AF27 [get_ports {hdmi_tx_data[6]}]\n',...
                'set_property PACKAGE_PIN AJ26 [get_ports {hdmi_tx_data[7]}]\n',...
                'set_property PACKAGE_PIN AK27 [get_ports {hdmi_tx_data[8]}]\n',...
                'set_property PACKAGE_PIN AH27 [get_ports {hdmi_tx_data[9]}]\n',...
                'set_property PACKAGE_PIN AE27 [get_ports {hdmi_tx_data[10]}]\n',...
                'set_property PACKAGE_PIN AC27 [get_ports {hdmi_tx_data[11]}]\n',...
                'set_property PACKAGE_PIN AH26 [get_ports {hdmi_tx_data[12]}]\n',...
                'set_property PACKAGE_PIN AG27 [get_ports {hdmi_tx_data[13]}]\n',...
                'set_property PACKAGE_PIN AB27 [get_ports {hdmi_tx_data[14]}]\n',...
                'set_property PACKAGE_PIN AG26 [get_ports {hdmi_tx_data[15]}]\n',...
                '\n',...
                'set_property IOSTANDARD LVCMOS25 [get_ports {hdmi_rx_* hdmi_tx_*}]\n',...
                'set_property IOB TRUE [get_ports {hdmi_rx_data[*] hdmi_tx_data[*]}]\n',...
                ];
            case 'ZedBoard'
                obj.Constraint=[...
                '# Clocks\n',...
                'create_clock -name hdmi_rx_clk -period  ',sprintf('%.3f',pixelClk),' [get_ports hdmi_rx_clk] \n',...
                '\n',...
                '# Clock Groups\n',...
                'set_clock_groups -asynchronous -group [get_clocks hdmi_rx_clk -include_generated_clocks]\n',...
                '\n',...
                '# I2C on FMC-IMAGEON\n',...
                'set_property PACKAGE_PIN AE18 [get_ports fmc_imageon_iic_scl_io]\n',...
                'set_property PACKAGE_PIN AE17 [get_ports fmc_imageon_iic_sda_io]\n',...
                'set_property PACKAGE_PIN AG15 [get_ports {fmc_imageon_iic_rst_n}]\n',...
                'set_property PACKAGE_PIN AF15 [get_ports {fmc_imageon_iic_int}]\n',...
                'set_property IOSTANDARD LVCMOS25 [get_ports fmc_imageon_iic_*]\n',...
                '\n',...
                '# HDMI Input (ADV7611) on FMC-IMAGEON\n',...
                'set_property PACKAGE_PIN AC28 [get_ports hdmi_rx_clk]\n',...
                'set_property PACKAGE_PIN AE26 [get_ports {hdmi_rx_data[0]}]\n',...
                'set_property PACKAGE_PIN AD25 [get_ports {hdmi_rx_data[1]}]\n',...
                'set_property PACKAGE_PIN AF25 [get_ports {hdmi_rx_data[2]}]\n',...
                'set_property PACKAGE_PIN AJ29 [get_ports {hdmi_rx_data[3]}]\n',...
                'set_property PACKAGE_PIN AK30 [get_ports {hdmi_rx_data[4]}]\n',...
                'set_property PACKAGE_PIN AE25 [get_ports {hdmi_rx_data[5]}]\n',...
                'set_property PACKAGE_PIN AJ28 [get_ports {hdmi_rx_data[6]}]\n',...
                'set_property PACKAGE_PIN AJ30 [get_ports {hdmi_rx_data[7]}]\n',...
                'set_property PACKAGE_PIN Y27 [get_ports {hdmi_rx_data[8]}]\n',...
                'set_property PACKAGE_PIN Y26 [get_ports {hdmi_rx_data[9]}]\n',...
                'set_property PACKAGE_PIN AA30 [get_ports {hdmi_rx_data[10]}]\n',...
                'set_property PACKAGE_PIN Y30 [get_ports {hdmi_rx_data[11]}]\n',...
                'set_property PACKAGE_PIN AB30 [get_ports {hdmi_rx_data[12]}]\n',...
                'set_property PACKAGE_PIN AB29 [get_ports {hdmi_rx_data[13]}]\n',...
                'set_property PACKAGE_PIN AD29 [get_ports {hdmi_rx_data[14]}]\n',...
                'set_property PACKAGE_PIN AC29 [get_ports {hdmi_rx_data[15]}]\n',...
                '\n',...
                '# HDMI Output (ADV7511) on FMC-IMAGEON\n',...
                'set_property PACKAGE_PIN AD28 [get_ports hdmi_tx_clk]\n',...
                'set_property PACKAGE_PIN AG29 [get_ports {hdmi_tx_data[0]}]\n',...
                'set_property PACKAGE_PIN AF29 [get_ports {hdmi_tx_data[1]}]\n',...
                'set_property PACKAGE_PIN AH29 [get_ports {hdmi_tx_data[2]}]\n',...
                'set_property PACKAGE_PIN AK26 [get_ports {hdmi_tx_data[3]}]\n',...
                'set_property PACKAGE_PIN AH28 [get_ports {hdmi_tx_data[4]}]\n',...
                'set_property PACKAGE_PIN AK28 [get_ports {hdmi_tx_data[5]}]\n',...
                'set_property PACKAGE_PIN AF27 [get_ports {hdmi_tx_data[6]}]\n',...
                'set_property PACKAGE_PIN AJ26 [get_ports {hdmi_tx_data[7]}]\n',...
                'set_property PACKAGE_PIN AK27 [get_ports {hdmi_tx_data[8]}]\n',...
                'set_property PACKAGE_PIN AH27 [get_ports {hdmi_tx_data[9]}]\n',...
                'set_property PACKAGE_PIN AE27 [get_ports {hdmi_tx_data[10]}]\n',...
                'set_property PACKAGE_PIN AC27 [get_ports {hdmi_tx_data[11]}]\n',...
                'set_property PACKAGE_PIN AH26 [get_ports {hdmi_tx_data[12]}]\n',...
                'set_property PACKAGE_PIN AG27 [get_ports {hdmi_tx_data[13]}]\n',...
                'set_property PACKAGE_PIN AB27 [get_ports {hdmi_tx_data[14]}]\n',...
                'set_property PACKAGE_PIN AG26 [get_ports {hdmi_tx_data[15]}]\n',...
                '\n',...
                'set_property IOSTANDARD LVCMOS25 [get_ports {hdmi_rx_* hdmi_tx_*}]\n',...
                'set_property IOB TRUE [get_ports {hdmi_rx_data[*] hdmi_tx_data[*]}]\n',...
                ];
            otherwise
                error(message('soc:msgs:componentNotSupportOnBoard','HDMI Interface'));
            end
        end
    end

end