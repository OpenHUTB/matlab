function hdlcode=ASYNCFIFOStatus(this,cntWidth)



    hdlcode=this.hdlcodeinit;
    hdlcode.arch_signals=['  SIGNAL dataCntA                       : unsigned(',num2str(cntWidth-1),' DOWNTO 0);\n',...
    '  SIGNAL wrCntA_unsign                  : unsigned(',num2str(cntWidth-1),' DOWNTO 0);\n',...
    '  SIGNAL rdCntA_unsign                  : unsigned(',num2str(cntWidth-1),' DOWNTO 0);\n'];

    hdlcode.arch_constants=['  CONSTANT FIFO_DEPTH                     : integer := 2**',num2str(cntWidth),';\n'];

    hdlcode.arch_body_blocks=[...
    'wrCntA_unsign <=  unsigned(wrCntA);\n',...
    'rdCntA_unsign <=  unsigned(rdCntA);\n\n',...
    'PROCESS(wrCntA_unsign, rdCntA_unsign)\n',...
    'BEGIN -- PROCESS\n',...
    '  IF wrCntA_unsign > rdCntA_unsign THEN\n',...
    '     dataCntA <= wrCntA_unsign - rdCntA_unsign;\n',...
    '  ELSE\n',...
    '     dataCntA <= FIFO_DEPTH - rdCntA_unsign + wrCntA_unsign;\n',...
    '  END IF;\n',...
    '  IF dataCntA = FIFO_DEPTH THEN\n',...
    '     fullA <= ''1'';\n',...
    '  ELSE\n',...
    '     fullA <= ''0'';\n',...
    '  END IF;\n',...
    '  IF wrCntB = rdCntB THEN\n',...
    '     emptyB <= ''1'';\n',...
    '  ELSE\n',...
    '     emptyB <= ''0'';\n',...
    '  END IF;\n',...
    'END PROCESS;\n\n'];
end



