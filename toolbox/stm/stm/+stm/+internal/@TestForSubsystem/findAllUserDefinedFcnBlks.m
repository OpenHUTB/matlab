function match=findAllUserDefinedFcnBlks(hndl)




    match=get_param(hndl,"Type")=="block"&&...
    (Simulink.harness.internal.isUserDefinedFcnBlock(hndl)||...
    (get_param(hndl,"BlockType")=="SubSystem"&&...
    get_param(hndl,"SFBlockType")=="MATLAB Function"))&&...
    get_param(hndl,"ReferenceBlock")=="";
end
