function mcode=getCheckCallback(checkDef)
    tab=sprintf('\t');
    lb=sprintf('\n');
    autoGenStartComment='% THE FOLLOWING CODE IS AUTO GENERATED AND MAY NOT WORK IF MODIFIED';
    autoGenEndComment='% END OF AUTO GENERATED CODE';

    filteredID=regexprep(checkDef.ID,'\W','_');

    mcode=[autoGenStartComment,lb,...
    'function [ResultDescription, ResultHandles] = callback_',filteredID,'(system)',lb,...
    tab,'mdladvObj = Simulink.ModelAdvisor.getModelAdvisor(system);',lb,...
    tab,'mdladvObj.setCheckResultStatus(false); % init to fail',lb,...
    tab,'ResultDescription = {};',lb,...
    tab,'% algorithm callback',lb,...
    tab,'[status, ~] = Advisor.authoring.CustomCheck.checkAlgorithmCallback(system);',lb,...
    tab,'ResultDescription{end+1} = Advisor.authoring.CustomCheck.outputFormattingCallback();',lb,...
    tab,'ResultHandles = cell(size(ResultDescription));',lb,...
    tab,'% Set result status for check',lb,...
    tab,'mdladvObj.setCheckResultStatus(status);',lb,...
    'end',lb,...
    autoGenEndComment,lb,lb,...
    ];
end