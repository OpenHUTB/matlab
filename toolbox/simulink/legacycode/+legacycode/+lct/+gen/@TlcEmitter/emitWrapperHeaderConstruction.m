




function emitWrapperHeaderConstruction(this,codeWriter)


    codeWriter.wLine(sprintf('%%assign hFileName = FcnGenerateUniqueFileName("%s_wrapper", "header")',...
    this.LctSpecInfo.Specs.SFunctionName));


    txt={...
    '%assign hFileNameMacro = FEVAL("upper", hFileName)',...
    '%openfile hFile = "%<hFileName>.h"',...
    '%selectfile hFile',...
    '#ifndef _%<hFileNameMacro>_H_',...
    '#define _%<hFileNameMacro>_H_',...
    '',...
    '#ifdef MATLAB_MEX_FILE',...
    '#include "tmwtypes.h"',...
    '#else',...
    '#include "rtwtypes.h"',...
    '#endif',...
''...
    };
    cellfun(@(aLine)codeWriter.wLine(aLine),txt);



    declStmts=this.genPWorkAllocFreeFuns(false);
    if~isempty(declStmts)
        cellfun(@(aLine)codeWriter.wLine(aLine),declStmts);
        codeWriter.wNewLine;
    end


    this.LctSpecInfo.forEachFunction(@(o,k,f)emitFunDecl(f,k));


    txt={...
    '',...
    '#endif',...
    '',...
    '%closefile hFile',...
''...
    };
    cellfun(@(aLine)codeWriter.wLine(aLine),txt);

    function emitFunDecl(funSpec,funKind)
        if funSpec.IsSpecified
            [lhs,fcnName,argList]=this.genWrapperPrototype(funSpec,funKind);
            codeWriter.wLine('extern %s %s(%s);',lhs,fcnName,argList);
        end
    end
end


