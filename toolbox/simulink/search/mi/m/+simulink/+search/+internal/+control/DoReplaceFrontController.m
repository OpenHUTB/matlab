


classdef DoReplaceFrontController<handle

    properties(Constant,Access=protected)
        DEFAULT_REPLACEPROCESSOR=simulink.search.internal.control.DefaultReplaceProcessor();
        LINE_REPLACEPROCESSOR=simulink.search.internal.control.LineReplaceProcessor();
        ANNOTATION_REPLACEPROCESSOR=simulink.search.internal.control.AnnotationReplaceProcessor();
        STATEFLOW_REPLACEPROCESSOR=simulink.search.internal.control.StateflowReplaceProcessor();
        FUNCTIONBLOCK_REPLACEPROCESSOR=simulink.search.internal.control.FunctionBlockReplaceProcessor();




        PROPERTY_NAME_TO_PROCESSOR=containers.Map(...
        {'source','destination','script'},...
        {...
        simulink.search.internal.control.DoReplaceFrontController.LINE_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.LINE_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.FUNCTIONBLOCK_REPLACEPROCESSOR...
        }...
        );
        TYPE_TO_PROCESSOR=containers.Map(...
        {...
        'Annotation',...
        'sfAnnotation',...
        'Chart',...
        'State',...
        'Box',...
        'Function',...
        'Transition',...
        'Event',...
        'Data',...
'Message'...
        },...
        {...
        simulink.search.internal.control.DoReplaceFrontController.ANNOTATION_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR,...
        simulink.search.internal.control.DoReplaceFrontController.STATEFLOW_REPLACEPROCESSOR...
        }...
        );
    end

    methods(Static,Access=public)
        function[errMsg,newValue]=doReplace(blockCache,replaceData)
            import simulink.search.internal.control.DoReplaceFrontController
            replaceProcessor=DoReplaceFrontController.dispatchReplaceProcessor(blockCache,replaceData);
            [errMsg,newValue]=replaceProcessor.doReplace(blockCache,replaceData);
        end
    end

    methods(Static,Access=protected)
        function replaceProcessor=dispatchReplaceProcessor(blockCache,replaceData)
            import simulink.search.internal.control.DoReplaceFrontController
            propName=replaceData.propertyname;
            blkType=blockCache.type;
            if DoReplaceFrontController.TYPE_TO_PROCESSOR.isKey(blkType)
                replaceProcessor=DoReplaceFrontController.TYPE_TO_PROCESSOR(blkType);
            elseif DoReplaceFrontController.PROPERTY_NAME_TO_PROCESSOR.isKey(propName)
                replaceProcessor=DoReplaceFrontController.PROPERTY_NAME_TO_PROCESSOR(propName);
            else
                replaceProcessor=DoReplaceFrontController.DEFAULT_REPLACEPROCESSOR;
            end
        end
    end
end
