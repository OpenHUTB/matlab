
function RowCountReg(~,hN,RowCntRegInSigs,RowCntRegOutSigs,hCounterT,...
    hBoolT,slRate)


    hRowCntRegN=pirelab.createNewNetwork(...
    'Name','RowCountReg',...
    'InportNames',{'rowCount','rowProcDone'},...
    'InportTypes',[hCounterT,hBoolT],...
    'InportRates',slRate*ones(1,2),...
    'OutportNames',{'rowCountReg'},...
    'OutportTypes',hCounterT);

    hRowCntRegN.setTargetCompReplacementCandidate(true);


    for ii=1:numel(hRowCntRegN.PirOutputSignals)
        hRowCntRegN.PirOutputSignals(ii).SimulinkRate=slRate;
    end

    hRowCntRegNinSigs=hRowCntRegN.PirInputSignals;
    hRowCntRegNoutSigs=hRowCntRegN.PirOutputSignals;

    Switch_out1_s3=l_addSignal(hRowCntRegN,'Switch_out1',hCounterT,slRate);
    Delay_out_s4=l_addSignal(hRowCntRegN,'Delay_out',hCounterT,slRate);
    Delay_Initial_Val_out_s5=l_addSignal(hRowCntRegN,'Delay_Initial_Val_out',hCounterT,slRate);
    Delay_ctrl_const_out_s6=l_addSignal(hRowCntRegN,'Delay_ctrl_const_out',hBoolT,slRate);
    Delay_ctrl_delay_out_s7=l_addSignal(hRowCntRegN,'Delay_ctrl_delay_out',hBoolT,slRate);

    pirelab.getIntDelayComp(hRowCntRegN,...
    Switch_out1_s3,...
    Delay_out_s4,...
    1,'Delay',...
    double(0),...
    0,0,[],0,0);


    pirelab.getConstComp(hRowCntRegN,...
    Delay_Initial_Val_out_s5,...
    uint8(1),...
    'Delay_Initial_Val','on',0,'','','');

    pirelab.getConstComp(hRowCntRegN,...
    Delay_ctrl_const_out_s6,...
    1,...
    'Delay_ctrl_const');

    pirelab.getIntDelayComp(hRowCntRegN,...
    Delay_ctrl_const_out_s6,...
    Delay_ctrl_delay_out_s7,...
    1,'Delay_ctrl_delay',...
    double(0),...
    0,0,[],0,0);

    pirelab.getSwitchComp(hRowCntRegN,...
    [Delay_out_s4,Delay_Initial_Val_out_s5],...
    hRowCntRegNoutSigs(1),...
    Delay_ctrl_delay_out_s7,'Delay_switch',...
    '~=',0,'Floor','Wrap');

    pirelab.getSwitchComp(hRowCntRegN,...
    [hRowCntRegNinSigs(1),hRowCntRegNoutSigs(1)],...
    Switch_out1_s3,...
    hRowCntRegNinSigs(2),'Switch',...
    '~=',0,'Floor','Wrap');




    pirelab.instantiateNetwork(hN,hRowCntRegN,RowCntRegInSigs,RowCntRegOutSigs,...
    [hRowCntRegN.Name,'_inst']);

end


function hS=l_addSignal(hN,sigName,pirTyp,simulinkRate)
    hS=hN.addSignal;
    hS.Name=sigName;
    hS.Type=pirTyp;
    hS.SimulinkHandle=-1;
    hS.SimulinkRate=simulinkRate;
end


