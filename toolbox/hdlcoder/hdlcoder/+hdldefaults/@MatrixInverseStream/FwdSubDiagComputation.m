

function FwdSubDiagComputation(~,hN,FwdSubDiagCompInSigs,FwdSubDiagCompOutSigs,...
    hBoolT,hInputDataT,slRate)


    hFwdSubDiagCompN=pirelab.createNewNetwork(...
    'Name','FwdSubDiagComputation',...
    'InportNames',{'diagValidIn','diagDataIn'},...
    'InportTypes',[hBoolT,hInputDataT],...
    'InportRates',slRate*ones(1,2),...
    'OutportNames',{'diagOutValid','diagOutData'},...
    'OutportTypes',[hBoolT,hInputDataT]);

    hFwdSubDiagCompN.setTargetCompReplacementCandidate(true);


    for ii=1:numel(hFwdSubDiagCompN.PirOutputSignals)
        hFwdSubDiagCompN.PirOutputSignals(ii).SimulinkRate=slRate;
    end

    hFwdSubDiagCompNinSigs=hFwdSubDiagCompN.PirInputSignals;
    hFwdSubDiagCompNoutSigs=hFwdSubDiagCompN.PirOutputSignals;


    Delay_out1_s2=l_addSignal(hFwdSubDiagCompN,'Delay_out1',hBoolT,slRate);


    pirelab.getIntDelayComp(hFwdSubDiagCompN,...
    hFwdSubDiagCompNinSigs(1),...
    Delay_out1_s2,...
    1,'Delay',...
    false,...
    0,0,[],0,0);


    pirelab.getIntDelayComp(hFwdSubDiagCompN,...
    Delay_out1_s2,...
    hFwdSubDiagCompNoutSigs(1),...
    1,'Delay1',...
    false,...
    0,0,[],0,0);

    pirelab.getIntDelayComp(hFwdSubDiagCompN,...
    hFwdSubDiagCompNinSigs(2),...
    hFwdSubDiagCompNoutSigs(2),...
    1,'Delay2',...
    single(0),...
    0,0,[],0,0);



    pirelab.instantiateNetwork(hN,hFwdSubDiagCompN,FwdSubDiagCompInSigs,...
    FwdSubDiagCompOutSigs,[hFwdSubDiagCompN.Name,'_inst']);


end


function hS=l_addSignal(hN,sigName,pirTyp,simulinkRate)
    hS=hN.addSignal;
    hS.Name=sigName;
    hS.Type=pirTyp;
    hS.SimulinkHandle=-1;
    hS.SimulinkRate=simulinkRate;
end
