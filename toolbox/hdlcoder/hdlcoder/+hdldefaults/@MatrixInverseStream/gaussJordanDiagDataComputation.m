
function gaussJordanDiagDataComputation(~,hN,diagDataComputationInSigs,diagDataComputationOutSigs,...
    hCounterT,hInputDataT,hBoolT,slRate,blockInfo)




    hgaussJordanDiagDataN=pirelab.createNewNetwork(...
    'Name','gaussJordanDiagDataComputation',...
    'InportNames',{'diagValidCount','reciprocalValidOutReg','multiplyDivideInpTwo','multiplyDivideInpOne','multiplyDivideInpTwoEyeMem'},...
    'InportTypes',[hCounterT,hBoolT,hInputDataT,hInputDataT,hInputDataT],...
    'InportRates',slRate*ones(1,5),...
    'OutportNames',{'diagDataOut1','diagDataOut2','diagValidOut','diagOutStoredData','diagOutStoredDataEyeMem'},...
    'OutportTypes',[hInputDataT,hInputDataT,hBoolT,diagDataComputationOutSigs(4).Type,diagDataComputationOutSigs(5).Type]);

    hgaussJordanDiagDataN.setTargetCompReplacementCandidate(true);


    for ii=1:numel(hgaussJordanDiagDataN.PirOutputSignals)
        hgaussJordanDiagDataN.PirOutputSignals(ii).SimulinkRate=slRate;
    end

    hgaussJordanDiagDataNinSigs=hgaussJordanDiagDataN.PirInputSignals;
    hgaussJordanDiagDataNoutSigs=hgaussJordanDiagDataN.PirOutputSignals;

    diagValidCount=hgaussJordanDiagDataNinSigs(1);
    reciprocalValidOutReg=hgaussJordanDiagDataNinSigs(2);



    diagDataOut1=hgaussJordanDiagDataNoutSigs(1);
    diagDataOut2=hgaussJordanDiagDataNoutSigs(2);
    diagValidOut=hgaussJordanDiagDataNoutSigs(3);
    diagOutStoredData=hgaussJordanDiagDataNoutSigs(4);
    diagOutStoredDataEyeMem=hgaussJordanDiagDataNoutSigs(5);


    pirTyp2=pir_boolean_t;
    pirTyp3=hInputDataT;

    pirTyp4=pir_unsigned_t(8);

    if blockInfo.MatrixSize==1
        hArrayT=pirTyp3;
    else
        hArrayT=pirelab.createPirArrayType(pirTyp3,[blockInfo.MatrixSize,0]);
    end

    Assignment_out1_s6=l_addSignal(hgaussJordanDiagDataN,'Assignment_out1',hArrayT,slRate);
    Assignment1_out1_s7=l_addSignal(hgaussJordanDiagDataN,'Assignment1_out1',hArrayT,slRate);
    Constant1_out1_s8=l_addSignal(hgaussJordanDiagDataN,'Constant1_out1',hArrayT,slRate);
    Constant2_out1_s9=l_addSignal(hgaussJordanDiagDataN,'Constant2_out1',hArrayT,slRate);
    DataTypeConversion_out1_s10=l_addSignal(hgaussJordanDiagDataN,'Data Type Conversion_out1',pirTyp4,slRate);
    DataTypeConversion1_out1_s11=l_addSignal(hgaussJordanDiagDataN,'Data Type Conversion1_out1',pirTyp4,slRate);
    Delay1_out1_s13=l_addSignal(hgaussJordanDiagDataN,'Delay1_out1',pirTyp4,slRate);
    Delay11_out1_s14=l_addSignal(hgaussJordanDiagDataN,'Delay11_out1',pirTyp2,slRate);
    Delay2_out1_s17=l_addSignal(hgaussJordanDiagDataN,'Delay2_out1',pirTyp4,slRate);
    Delay31_out1_s18=l_addSignal(hgaussJordanDiagDataN,'Delay31_out1',pirTyp3,slRate);
    Delay35_out1_s19=l_addSignal(hgaussJordanDiagDataN,'Delay35_out1',pirTyp3,slRate);
    Delay45_out1_s20=l_addSignal(hgaussJordanDiagDataN,'Delay45_out1',pirTyp2,slRate);
    Product2_out1_s23=l_addSignal(hgaussJordanDiagDataN,'Product2_out1',pirTyp3,slRate);
    Product3_out1_s24=l_addSignal(hgaussJordanDiagDataN,'Product3_out1',pirTyp3,slRate);
    Switch_out1_s25=l_addSignal(hgaussJordanDiagDataN,'Switch_out1',hArrayT,slRate);
    Switch1_out1_s26=l_addSignal(hgaussJordanDiagDataN,'Switch1_out1',hArrayT,slRate);
    Switch2_out1_s27=l_addSignal(hgaussJordanDiagDataN,'Switch2_out1',hArrayT,slRate);
    Switch6_out1_s28=l_addSignal(hgaussJordanDiagDataN,'Switch6_out1',hArrayT,slRate);


    hMultC=pirelab.getMulComp(hgaussJordanDiagDataN,...
    [hgaussJordanDiagDataNinSigs(3),hgaussJordanDiagDataNinSigs(4)],...
    Product2_out1_s23,...
    'Floor','Wrap','Product2','*/','',-1,0);



    pirelab.getMulComp(hgaussJordanDiagDataN,...
    [hgaussJordanDiagDataNinSigs(5),hgaussJordanDiagDataNinSigs(4)],...
    Product3_out1_s24,...
    'Floor','Wrap','Product3','*/','',-1,0);


    pirelab.getConstComp(hgaussJordanDiagDataN,...
    Constant1_out1_s8,...
    zeros(1,blockInfo.MatrixSize),...
    'Constant1','on',1,'','','');



    pirelab.getConstComp(hgaussJordanDiagDataN,...
    Constant2_out1_s9,...
    zeros(1,blockInfo.MatrixSize),...
    'Constant2','on',1,'','','');



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    Switch_out1_s25,...
    diagOutStoredData,...
    1,'Delay',...
    0,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    DataTypeConversion1_out1_s11,...
    Delay1_out1_s13,...
    resolveLatencyForIPType(hMultC,'DIV',blockInfo.inputDataType),'Delay1',...
    uint8(1),...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    reciprocalValidOutReg,...
    Delay11_out1_s14,...
    resolveLatencyForIPType(hMultC,'DIV',blockInfo.inputDataType),'Delay11',...
    false,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    Delay45_out1_s20,...
    diagValidOut,...
    1,'Delay13',...
    false,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    Delay35_out1_s19,...
    diagDataOut2,...
    1,'Delay14',...
    single(0),...
    0,0,[],0,0);




    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    DataTypeConversion_out1_s10,...
    Delay2_out1_s17,...
    resolveLatencyForIPType(hMultC,'DIV',blockInfo.inputDataType),'Delay2',...
    uint8(1),...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    Product2_out1_s23,...
    Delay31_out1_s18,...
    resolveLatencyForIPType(hMultC,'DIV',blockInfo.inputDataType),'Delay31',...
    single(0),...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    Product3_out1_s24,...
    Delay35_out1_s19,...
    resolveLatencyForIPType(hMultC,'DIV',blockInfo.inputDataType),'Delay35',...
    single(0),...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    reciprocalValidOutReg,...
    Delay45_out1_s20,...
    resolveLatencyForIPType(hMultC,'DIV',blockInfo.inputDataType),'Delay45',...
    false,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    Delay31_out1_s18,...
    diagDataOut1,...
    1,'Delay6',...
    0,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hgaussJordanDiagDataN,...
    Switch6_out1_s28,...
    diagOutStoredDataEyeMem,...
    1,'Delay8',...
    0,...
    0,0,[],0,0);



    if blockInfo.MatrixSize==1
        pirelab.getWireComp(hgaussJordanDiagDataN,Delay31_out1_s18,...
        Assignment_out1_s6,'AssignmentOut');
        pirelab.getWireComp(hgaussJordanDiagDataN,Delay35_out1_s19,...
        Assignment1_out1_s7,'AssignmentOut1');
    else

        pirelab.getAssignmentComp(hgaussJordanDiagDataN,...
        [Switch1_out1_s26,Delay31_out1_s18,Delay1_out1_s13],...
        Assignment_out1_s6,...
        'One-based',{'Index vector (port)'},...
        {1},...
        {'1'},'1',...
        'Assignment');


        pirelab.getAssignmentComp(hgaussJordanDiagDataN,...
        [Switch2_out1_s27,Delay35_out1_s19,Delay2_out1_s17],...
        Assignment1_out1_s7,...
        'One-based',{'Index vector (port)'},...
        {1},...
        {'1'},'1',...
        'Assignment1');
    end


    pirelab.getDTCComp(hgaussJordanDiagDataN,...
    diagValidCount,...
    DataTypeConversion_out1_s10,...
    'Floor','Wrap','RWV','Data Type Conversion');



    pirelab.getDTCComp(hgaussJordanDiagDataN,...
    diagValidCount,...
    DataTypeConversion1_out1_s11,...
    'Floor','Wrap','RWV','Data Type Conversion1');




    pirelab.getSwitchComp(hgaussJordanDiagDataN,...
    [Assignment_out1_s6,diagOutStoredData],...
    Switch_out1_s25,...
    Delay11_out1_s14,'Switch',...
    '~=',0,'Floor','Wrap');



    pirelab.getSwitchComp(hgaussJordanDiagDataN,...
    [diagOutStoredData,Constant1_out1_s8],...
    Switch1_out1_s26,...
    Delay11_out1_s14,'Switch1',...
    '~=',0,'Floor','Wrap');



    pirelab.getSwitchComp(hgaussJordanDiagDataN,...
    [diagOutStoredDataEyeMem,Constant2_out1_s9],...
    Switch2_out1_s27,...
    Delay11_out1_s14,'Switch2',...
    '~=',0,'Floor','Wrap');



    pirelab.getSwitchComp(hgaussJordanDiagDataN,...
    [Assignment1_out1_s7,diagOutStoredDataEyeMem],...
    Switch6_out1_s28,...
    Delay11_out1_s14,'Switch6',...
    '~=',0,'Floor','Wrap');





    pirelab.instantiateNetwork(hN,hgaussJordanDiagDataN,diagDataComputationInSigs,...
    diagDataComputationOutSigs,[hgaussJordanDiagDataN.Name,'_inst']);


end


function hS=l_addSignal(hN,sigName,pirTyp,simulinkRate)
    hS=hN.addSignal;
    hS.Name=sigName;
    hS.Type=pirTyp;
    hS.SimulinkHandle=-1;
    hS.SimulinkRate=simulinkRate;
end

function latency=resolveLatencyForIPType(hC,targetIPType,inputDataType)

    hDriver=hdlcurrentdriver;

    p=pir(hC.Owner.getCtxName);

    targetCompDataType=inputDataType;
    targetDriver=hDriver.getTargetCodeGenDriver(p);
    if isempty(targetDriver)||~strcmpi(class(targetDriver),'targetcodegen.nfpdriver')
        latency=-1;
        return;
    end

    latency=targetDriver.getDefaultLatency(targetIPType,targetCompDataType,hC);
end


