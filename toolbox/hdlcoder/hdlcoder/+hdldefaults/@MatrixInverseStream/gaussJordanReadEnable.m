
function gaussJordanReadEnable(~,hN,LTRdEnableInSigs,LTRdEnableOutSigs,...
    slRate,blockInfo)





    hLTRdEnableN=pirelab.createNewNetwork(...
    'Name','gaussJordanReadEnable',...
    'InportNames',{'invFinish','storeDone','rowFinish','swapDone','diagValidIn'},...
    'InportTypes',[LTRdEnableInSigs(1).Type,LTRdEnableInSigs(2).Type,...
    LTRdEnableInSigs(3).Type,LTRdEnableInSigs(4).Type,LTRdEnableInSigs(5).Type],...
    'InportRates',slRate*ones(1,5),...
    'OutportNames',{'readEnable','swapReadEnable'},...
    'OutportTypes',[LTRdEnableOutSigs(1).Type,LTRdEnableOutSigs(2).Type]);

    hLTRdEnableN.setTargetCompReplacementCandidate(true);


    for ii=1:numel(hLTRdEnableN.PirOutputSignals)
        hLTRdEnableN.PirOutputSignals(ii).SimulinkRate=slRate;
    end

    hLTRdEnableNinSigs=hLTRdEnableN.PirInputSignals;
    hLTRdEnableNoutSigs=hLTRdEnableN.PirOutputSignals;

    invFinish=hLTRdEnableNinSigs(1);
    storeDone=hLTRdEnableNinSigs(2);
    rowFinish=hLTRdEnableNinSigs(3);
    swapDone=hLTRdEnableNinSigs(4);
    diagValidIn=hLTRdEnableNinSigs(5);

    readEnable=hLTRdEnableNoutSigs(1);
    swapReadEnable=hLTRdEnableNoutSigs(2);

    pirTyp1=pir_boolean_t;
    if blockInfo.MatrixSize<=2
        pirTyp3=pir_ufixpt_t(ceil(log2(blockInfo.RowSize))+1,0);
    else
        pirTyp3=pir_ufixpt_t(ceil(log2(blockInfo.RowSize)),0);
    end
    pirTyp2=pir_ufixpt_t(ceil(log2(blockInfo.RowSize))+1,0);

    hCounterType=pir_ufixpt_t(2,0);

    CompareToConstant_out1_s5=l_addSignal(hLTRdEnableN,sprintf('Compare\nTo Constant_out1'),pirTyp1,slRate);
    CompareToConstant1_out1_s6=l_addSignal(hLTRdEnableN,sprintf('Compare\nTo Constant1_out1'),pirTyp1,slRate);
    CompareToConstant2_out1_s7=l_addSignal(hLTRdEnableN,sprintf('Compare\nTo Constant2_out1'),pirTyp1,slRate);
    CompareToConstant3_out1_s8=l_addSignal(hLTRdEnableN,sprintf('Compare\nTo Constant3_out1'),pirTyp1,slRate);
    CompareToConstant4_out1_s9=l_addSignal(hLTRdEnableN,sprintf('Compare\nTo Constant4_out1'),pirTyp1,slRate);
    CompareToConstant5_out1_s10=l_addSignal(hLTRdEnableN,sprintf('Compare\nTo Constant5_out1'),pirTyp1,slRate);
    Constant_out1_s11=l_addSignal(hLTRdEnableN,'Constant_out1',pirTyp1,slRate);
    Constant1_out1_s12=l_addSignal(hLTRdEnableN,'Constant1_out1',pirTyp1,slRate);
    Constant2_out1_s13=l_addSignal(hLTRdEnableN,'Constant2_out1',pirTyp1,slRate);
    Constant3_out1_s14=l_addSignal(hLTRdEnableN,'Constant3_out1',pirTyp1,slRate);
    Constant4_out1_s15=l_addSignal(hLTRdEnableN,'Constant4_out1',pirTyp1,slRate);
    Constant5_out1_s16=l_addSignal(hLTRdEnableN,'Constant5_out1',pirTyp1,slRate);
    Constant6_out1_s17=l_addSignal(hLTRdEnableN,'Constant6_out1',pirTyp1,slRate);
    Constant7_out1_s18=l_addSignal(hLTRdEnableN,'Constant7_out1',pirTyp1,slRate);
    Constant8_out1_s19=l_addSignal(hLTRdEnableN,'Constant8_out1',pirTyp1,slRate);
    Delay_out1_s20=l_addSignal(hLTRdEnableN,'Delay_out1',pirTyp1,slRate);
    Delay1_out1_s21=l_addSignal(hLTRdEnableN,'Delay1_out1',pirTyp1,slRate);
    Delay11_out1_s22=l_addSignal(hLTRdEnableN,'Delay11_out1',pirTyp1,slRate);
    Delay2_out1_s23=l_addSignal(hLTRdEnableN,'Delay2_out1',pirTyp1,slRate);
    Delay5_out1_s24=l_addSignal(hLTRdEnableN,'Delay5_out1',pirTyp1,slRate);
    Delay6_out1_s25=l_addSignal(hLTRdEnableN,'Delay6_out1',pirTyp1,slRate);
    Delay7_out1_s26=l_addSignal(hLTRdEnableN,'Delay7_out1',pirTyp1,slRate);
    Delay8_out1_s27=l_addSignal(hLTRdEnableN,'Delay8_out1',pirTyp1,slRate);
    HDLCounter_out1_s28=l_addSignal(hLTRdEnableN,'HDL Counter_out1',pirTyp2,slRate);
    HDLCounter1_out1_s29=l_addSignal(hLTRdEnableN,'HDL Counter1_out1',pirTyp3,slRate);

    LogicalOperator1_out1_s31=l_addSignal(hLTRdEnableN,sprintf('Logical\nOperator1_out1'),pirTyp1,slRate);
    LogicalOperator2_out1_s32=l_addSignal(hLTRdEnableN,sprintf('Logical\nOperator2_out1'),pirTyp1,slRate);
    LogicalOperator3_out1_s33=l_addSignal(hLTRdEnableN,sprintf('Logical\nOperator3_out1'),pirTyp1,slRate);
    LogicalOperator4_out1_s34=l_addSignal(hLTRdEnableN,sprintf('Logical\nOperator4_out1'),pirTyp1,slRate);
    LogicalOperator7_out1_s35=l_addSignal(hLTRdEnableN,sprintf('Logical\nOperator7_out1'),pirTyp1,slRate);
    LogicalOperator8_out1_s36=l_addSignal(hLTRdEnableN,sprintf('Logical\nOperator8_out1'),pirTyp1,slRate);
    Switch_out1_s38=l_addSignal(hLTRdEnableN,'Switch_out1',pirTyp1,slRate);
    Switch1_out1_s39=l_addSignal(hLTRdEnableN,'Switch1_out1',pirTyp1,slRate);
    Switch10_out1_s40=l_addSignal(hLTRdEnableN,'Switch10_out1',pirTyp1,slRate);
    Switch11_out1_s41=l_addSignal(hLTRdEnableN,'Switch11_out1',pirTyp1,slRate);
    Switch2_out1_s42=l_addSignal(hLTRdEnableN,'Switch2_out1',pirTyp1,slRate);
    Switch3_out1_s43=l_addSignal(hLTRdEnableN,'Switch3_out1',pirTyp1,slRate);
    Switch4_out1_s44=l_addSignal(hLTRdEnableN,'Switch4_out1',pirTyp1,slRate);
    Switch5_out1_s45=l_addSignal(hLTRdEnableN,'Switch5_out1',pirTyp1,slRate);
    Switch6_out1_s46=l_addSignal(hLTRdEnableN,'Switch6_out1',pirTyp1,slRate);
    Switch7_out1_s47=l_addSignal(hLTRdEnableN,'Switch7_out1',pirTyp1,slRate);
    Switch8_out1_s48=l_addSignal(hLTRdEnableN,'Switch8_out1',pirTyp1,slRate);
    Switch9_out1_s49=l_addSignal(hLTRdEnableN,'Switch9_out1',pirTyp1,slRate);

    HDLCounter2_out1_s30=l_addSignal(hLTRdEnableN,'HDL Counter2_out1',hCounterType,slRate);



    if strcmpi(blockInfo.latencyStrategy,'MAX')
        counterFinalValue=3;
        swapReadEnableCount=2;
    elseif strcmpi(blockInfo.latencyStrategy,'MIN')
        counterFinalValue=1;
        swapReadEnableCount=0;
    end


    if strcmpi(blockInfo.latencyStrategy,'MAX')
        if strcmpi(blockInfo.inputDataType,'SINGLE')
            latencyValue=32;
        elseif strcmpi(blockInfo.inputDataType,'DOUBLE')
            latencyValue=61;
        end
    elseif strcmpi(blockInfo.latencyStrategy,'MIN')
        if strcmpi(blockInfo.inputDataType,'SINGLE')
            latencyValue=17;
        elseif strcmpi(blockInfo.inputDataType,'DOUBLE')
            latencyValue=31;
        end
    else
        latencyValue=0;
    end


    pirelab.getConstComp(hLTRdEnableN,...
    Constant_out1_s11,...
    1,...
    'Constant','on',0,'','','');



    pirelab.getConstComp(hLTRdEnableN,...
    Constant1_out1_s12,...
    0,...
    'Constant1','on',1,'','','');



    pirelab.getConstComp(hLTRdEnableN,...
    Constant2_out1_s13,...
    1,...
    'Constant2','on',0,'','','');



    pirelab.getConstComp(hLTRdEnableN,...
    Constant3_out1_s14,...
    0,...
    'Constant3','on',1,'','','');



    pirelab.getConstComp(hLTRdEnableN,...
    Constant4_out1_s15,...
    0,...
    'Constant4','on',1,'','','');



    pirelab.getConstComp(hLTRdEnableN,...
    Constant5_out1_s16,...
    1,...
    'Constant5','on',0,'','','');



    pirelab.getConstComp(hLTRdEnableN,...
    Constant6_out1_s17,...
    0,...
    'Constant6','on',1,'','','');




    pirelab.getConstComp(hLTRdEnableN,...
    Constant7_out1_s18,...
    1,...
    'Constant7','on',0,'','','');



    pirelab.getConstComp(hLTRdEnableN,...
    Constant8_out1_s19,...
    0,...
    'Constant8','on',1,'','','');


    pirelab.getIntDelayComp(hLTRdEnableN,...
    diagValidIn,...
    Delay_out1_s20,...
    latencyValue,'Delay',...
    false,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hLTRdEnableN,...
    Switch10_out1_s40,...
    Delay11_out1_s22,...
    1,'Delay11',...
    false,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hLTRdEnableN,...
    Delay8_out1_s27,...
    Delay2_out1_s23,...
    latencyValue,'Delay2',...
    false,...
    0,0,[],0,0);



    pirelab.getIntDelayComp(hLTRdEnableN,...
    Delay_out1_s20,...
    Delay5_out1_s24,...
    blockInfo.MatrixSize,'Delay5',...
    false,...
    0,0,[],0,0);


    pirelab.getIntDelayComp(hLTRdEnableN,...
    Delay2_out1_s23,...
    Delay7_out1_s26,...
    blockInfo.MatrixSize,'Delay7',...
    false,...
    0,0,[],0,0);


    pirelab.getIntDelayComp(hLTRdEnableN,...
    swapDone,...
    Delay8_out1_s27,...
    2,'Delay8',...
    false,...
    0,0,[],0,0);







    pirelab.getIntDelayComp(hLTRdEnableN,...
    Switch5_out1_s45,...
    readEnable,...
    1,'readEnableReg',...
    false,...
    0,0,[],0,0);



    if strcmpi(blockInfo.latencyStrategy,'MAX')||strcmpi(blockInfo.latencyStrategy,'MIN')
        pirelab.getCompareToValueComp(hLTRdEnableN,...
        HDLCounter2_out1_s30,...
        CompareToConstant4_out1_s9,...
        '==',swapReadEnableCount,...
        sprintf('Compare\nTo Constant4'),0);



        pirelab.getCompareToValueComp(hLTRdEnableN,...
        HDLCounter2_out1_s30,...
        CompareToConstant5_out1_s10,...
        '==',counterFinalValue,...
        sprintf('Compare\nTo Constant5'),0);

        pirelab.getCounterComp(hLTRdEnableN,...
        [LogicalOperator1_out1_s31,Delay11_out1_s22],...
        HDLCounter2_out1_s30,...
        'Count limited',0,1,counterFinalValue,1,0,1,0,'HDL Counter2',0);

        pirelab.getLogicComp(hLTRdEnableN,...
        [Delay11_out1_s22,CompareToConstant5_out1_s10],...
        LogicalOperator1_out1_s31,...
        'and',sprintf('Logical\nOperator1'));

        pirelab.getLogicComp(hLTRdEnableN,...
        [Delay11_out1_s22,CompareToConstant4_out1_s9],...
        swapReadEnable,...
        'and',sprintf('Logical\nOperator9'));

    else
        pirelab.getWireComp(hLTRdEnableN,...
        Delay11_out1_s22,...
        swapReadEnable,...
        sprintf('swapReadEnableWire'));
    end


    pirelab.getLogicComp(hLTRdEnableN,...
    [Delay7_out1_s26,Delay5_out1_s24],...
    LogicalOperator2_out1_s32,...
    'and',sprintf('Logical\nOperator2'));


    pirelab.getLogicComp(hLTRdEnableN,...
    [LogicalOperator8_out1_s36,diagValidIn],...
    LogicalOperator7_out1_s35,...
    'and',sprintf('Logical\nOperator7'));



    pirelab.getLogicComp(hLTRdEnableN,...
    Delay8_out1_s27,...
    LogicalOperator8_out1_s36,...
    'not',sprintf('Logical\nOperator8'));







    pirelab.getSwitchComp(hLTRdEnableN,...
    [Constant_out1_s11,Switch2_out1_s42],...
    Switch_out1_s38,...
    storeDone,'Switch',...
    '~=',0,'Floor','Wrap');



    pirelab.getSwitchComp(hLTRdEnableN,...
    [Constant7_out1_s18,Switch11_out1_s41],...
    Switch10_out1_s40,...
    LogicalOperator7_out1_s35,'Switch10',...
    '~=',0,'Floor','Wrap');



    pirelab.getSwitchComp(hLTRdEnableN,...
    [Constant8_out1_s19,Delay11_out1_s22],...
    Switch11_out1_s41,...
    swapDone,'Switch11',...
    '~=',0,'Floor','Wrap');

    pirelab.getSwitchComp(hLTRdEnableN,...
    [Constant_out1_s11,Switch_out1_s38],...
    Switch4_out1_s44,...
    swapDone,'Switch4',...
    '~=',0,'Floor','Wrap');

    pirelab.getSwitchComp(hLTRdEnableN,...
    [Constant4_out1_s15,Switch4_out1_s44],...
    Switch5_out1_s45,...
    invFinish,'Switch5',...
    '~=',0,'Floor','Wrap');


    if blockInfo.MatrixSize==1
        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant_out1_s11,Constant1_out1_s12],...
        Switch2_out1_s42,...
        rowFinish,'Switch2',...
        '~=',0,'Floor','Wrap');

    elseif blockInfo.MatrixSize==2
        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant_out1_s11,Switch3_out1_s43],...
        Switch2_out1_s42,...
        rowFinish,'Switch2',...
        '~=',0,'Floor','Wrap');

        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant_out1_s11,Constant1_out1_s12],...
        Switch3_out1_s43,...
        LogicalOperator2_out1_s32,'Switch3',...
        '~=',0,'Floor','Wrap');

    else

        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant_out1_s11,Switch3_out1_s43],...
        Switch2_out1_s42,...
        rowFinish,'Switch2',...
        '~=',0,'Floor','Wrap');

        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant_out1_s11,Switch7_out1_s47],...
        Switch3_out1_s43,...
        LogicalOperator2_out1_s32,'Switch3',...
        '~=',0,'Floor','Wrap');

        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant_out1_s11,Constant1_out1_s12],...
        Switch7_out1_s47,...
        Delay1_out1_s21,'Switch7',...
        '~=',0,'Floor','Wrap');

        pirelab.getLogicComp(hLTRdEnableN,...
        [CompareToConstant1_out1_s6,CompareToConstant2_out1_s7,Delay6_out1_s25],...
        LogicalOperator3_out1_s33,...
        'and',sprintf('Logical\nOperator3'));

        pirelab.getLogicComp(hLTRdEnableN,...
        [CompareToConstant_out1_s5,Delay1_out1_s21],...
        LogicalOperator4_out1_s34,...
        'and',sprintf('Logical\nOperator4'));


        pirelab.getIntDelayComp(hLTRdEnableN,...
        Switch8_out1_s48,...
        Delay6_out1_s25,...
        1,'Delay6',...
        false,...
        0,0,[],0,0);

        pirelab.getIntDelayComp(hLTRdEnableN,...
        Switch1_out1_s39,...
        Delay1_out1_s21,...
        1,'Delay1',...
        false,...
        0,0,[],0,0);

        pirelab.getCompareToValueComp(hLTRdEnableN,...
        HDLCounter_out1_s28,...
        CompareToConstant_out1_s5,...
        '==',blockInfo.MatrixSize-3,...
        sprintf('Compare\nTo Constant'),0);



        pirelab.getCompareToValueComp(hLTRdEnableN,...
        HDLCounter1_out1_s29,...
        CompareToConstant1_out1_s6,...
        '==',blockInfo.MatrixSize-1,...
        sprintf('Compare\nTo Constant1'),0);



        pirelab.getCompareToValueComp(hLTRdEnableN,...
        HDLCounter_out1_s28,...
        CompareToConstant2_out1_s7,...
        '==',blockInfo.MatrixSize-3,...
        sprintf('Compare\nTo Constant2'),0);



        pirelab.getCompareToValueComp(hLTRdEnableN,...
        HDLCounter1_out1_s29,...
        CompareToConstant3_out1_s8,...
        '==',blockInfo.MatrixSize-2,...
        sprintf('Compare\nTo Constant3'),0);


        pirelab.getCounterComp(hLTRdEnableN,...
        Delay1_out1_s21,...
        HDLCounter_out1_s28,...
        'Count limited',0,1,blockInfo.MatrixSize-3,0,0,1,0,'HDL Counter',0);



        pirelab.getCounterComp(hLTRdEnableN,...
        Delay6_out1_s25,...
        HDLCounter1_out1_s29,...
        'Count limited',0,1,blockInfo.MatrixSize-1,0,0,1,0,'HDL Counter1',0);


        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant2_out1_s13,Switch6_out1_s46],...
        Switch1_out1_s39,...
        CompareToConstant3_out1_s8,'Switch1',...
        '~=',0,'Floor','Wrap');

        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant3_out1_s14,Constant3_out1_s14],...
        Switch6_out1_s46,...
        LogicalOperator4_out1_s34,'Switch6',...
        '~=',0,'Floor','Wrap');


        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant5_out1_s16,Switch9_out1_s49],...
        Switch8_out1_s48,...
        LogicalOperator2_out1_s32,'Switch8',...
        '~=',0,'Floor','Wrap');



        pirelab.getSwitchComp(hLTRdEnableN,...
        [Constant6_out1_s17,Delay6_out1_s25],...
        Switch9_out1_s49,...
        LogicalOperator3_out1_s33,'Switch9',...
        '~=',0,'Floor','Wrap');
    end

    pirelab.instantiateNetwork(hN,hLTRdEnableN,LTRdEnableInSigs,LTRdEnableOutSigs,...
    [hLTRdEnableN.Name,'_inst']);
end


function hS=l_addSignal(hN,sigName,pirTyp,simulinkRate)
    hS=hN.addSignal;
    hS.Name=sigName;
    hS.Type=pirTyp;
    hS.SimulinkHandle=-1;
    hS.SimulinkRate=simulinkRate;
end
