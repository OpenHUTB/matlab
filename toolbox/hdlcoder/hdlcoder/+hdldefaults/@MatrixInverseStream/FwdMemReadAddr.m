
function FwdMemReadAddr(~,hN,FwdMemRdAddrInSigs,FwdMemRdAddrOutSigs,hBoolT,hCounterT,...
    hAddrT,slRate,blockInfo)


    hFwdMemRdAddrN=pirelab.createNewNetwork(...
    'Name','FwdMemRdAddr',...
    'InportNames',{'rowCount','colCount','diagonalEn','nonDiagonalEn'},...
    'InportTypes',[hCounterT,hCounterT,hBoolT,hBoolT],...
    'InportRates',slRate*ones(1,4),...
    'OutportNames',{'reciprocalRdEn','mRdEn','rdAddrFwdSub'},...
    'OutportTypes',[hBoolT,hBoolT,pirelab.createPirArrayType(hAddrT,[blockInfo.RowSize+1,0])]);

    hFwdMemRdAddrN.setTargetCompReplacementCandidate(true);


    for ii=1:numel(hFwdMemRdAddrN.PirOutputSignals)
        hFwdMemRdAddrN.PirOutputSignals(ii).SimulinkRate=slRate;
    end

    hFwdMemRdAddrNinSigs=hFwdMemRdAddrN.PirInputSignals;
    hFwdMemRdAddrNoutSigs=hFwdMemRdAddrN.PirOutputSignals;


    Constant_out1_s4=l_addSignal(hFwdMemRdAddrN,'Constant_out1',hCounterT,slRate);
    Constant1_out1_s5=l_addSignal(hFwdMemRdAddrN,'Constant1_out1',hCounterT,slRate);
    Delay_out1_s6=l_addSignal(hFwdMemRdAddrN,'Delay_out1',hAddrT,slRate);
    Delay1_out1_s7=l_addSignal(hFwdMemRdAddrN,'Delay1_out1',hAddrT,slRate);
    LogicalOperator_out1_s10=l_addSignal(hFwdMemRdAddrN,sprintf('Logical\nOperator_out1'),hBoolT,slRate);
    Subtract_out1_s11=l_addSignal(hFwdMemRdAddrN,'Subtract_out1',hAddrT,slRate);
    Subtract1_out1_s12=l_addSignal(hFwdMemRdAddrN,'Subtract1_out1',hAddrT,slRate);
    Switch_out1_s13=l_addSignal(hFwdMemRdAddrN,'Switch_out1',hAddrT,slRate);
    Switch1_out1_s14=l_addSignal(hFwdMemRdAddrN,'Switch1_out1',hAddrT,slRate);


    pirelab.getConstComp(hFwdMemRdAddrN,...
    Constant_out1_s4,...
    1,...
    'Constant','on',0,'','','');


    pirelab.getConstComp(hFwdMemRdAddrN,...
    Constant1_out1_s5,...
    1,...
    'Constant1','on',0,'','','');


    pirelab.getIntDelayComp(hFwdMemRdAddrN,...
    Switch_out1_s13,...
    Delay_out1_s6,...
    1,'Delay',...
    0,...
    0,0,[],0,0);


    pirelab.getIntDelayComp(hFwdMemRdAddrN,...
    Switch1_out1_s14,...
    Delay1_out1_s7,...
    1,'Delay1',...
    0,...
    0,0,[],0,0);


    pirelab.getIntDelayComp(hFwdMemRdAddrN,...
    hFwdMemRdAddrNinSigs(3),...
    hFwdMemRdAddrNoutSigs(1),...
    1,'Delay2',...
    false,...
    0,0,[],0,0);


    pirelab.getIntDelayComp(hFwdMemRdAddrN,...
    hFwdMemRdAddrNinSigs(4),...
    hFwdMemRdAddrNoutSigs(2),...
    1,'Delay3',...
    false,...
    0,0,[],0,0);



    pirelab.getLogicComp(hFwdMemRdAddrN,...
    [hFwdMemRdAddrNinSigs(3),hFwdMemRdAddrNinSigs(4)],...
    LogicalOperator_out1_s10,...
    'or',sprintf('Logical\nOperator'));


    pirelab.getAddComp(hFwdMemRdAddrN,...
    [hFwdMemRdAddrNinSigs(2),Constant_out1_s4],...
    Subtract_out1_s11,...
    'Floor','Wrap','Subtract',hCounterT,'+-');


    pirelab.getAddComp(hFwdMemRdAddrN,...
    [hFwdMemRdAddrNinSigs(1),Constant1_out1_s5],...
    Subtract1_out1_s12,...
    'Floor','Wrap','Subtract1',hCounterT,'+-');


    pirelab.getSwitchComp(hFwdMemRdAddrN,...
    [Subtract1_out1_s12,Delay_out1_s6],...
    Switch_out1_s13,...
    LogicalOperator_out1_s10,'Switch',...
    '~=',0,'Floor','Wrap');


    pirelab.getSwitchComp(hFwdMemRdAddrN,...
    [Subtract_out1_s11,Delay1_out1_s7],...
    Switch1_out1_s14,...
    LogicalOperator_out1_s10,'Switch1',...
    '~=',0,'Floor','Wrap');

    delayOut=hdlhandles(1,blockInfo.RowSize);

    for itr=1:blockInfo.RowSize
        delayOut(itr)=Delay1_out1_s7;
    end


    pirelab.getMuxComp(hFwdMemRdAddrN,...
    [delayOut(1:end),Delay_out1_s6],...
    hFwdMemRdAddrNoutSigs(3),...
    'concatenate');



    pirelab.instantiateNetwork(hN,hFwdMemRdAddrN,FwdMemRdAddrInSigs,FwdMemRdAddrOutSigs,...
    [hFwdMemRdAddrN.Name,'_inst']);

end


function hS=l_addSignal(hN,sigName,pirTyp,simulinkRate)
    hS=hN.addSignal;
    hS.Name=sigName;
    hS.Type=pirTyp;
    hS.SimulinkHandle=-1;
    hS.SimulinkRate=simulinkRate;
end
