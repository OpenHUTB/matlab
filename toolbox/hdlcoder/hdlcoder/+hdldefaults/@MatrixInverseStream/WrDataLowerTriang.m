
function WrDataLowerTriang(~,hN,WrDataLTInSigs,WrDataLTOutSigs,...
    hBoolT,hInputDataT,slRate,blockInfo)


    hWrDataLTN=pirelab.createNewNetwork(...
    'Name','WrDataLowerTriang',...
    'InportNames',{'diagValidOut','nonDiagValidOut','diagDataOut','nonDiagDataOut',...
    'reciprocalData'},...
    'InportTypes',[hBoolT,hBoolT,hInputDataT,hInputDataT,hInputDataT],...
    'InportRates',slRate*ones(1,5),...
    'OutportNames',{'wrDataLT'},...
    'OutportTypes',pirelab.createPirArrayType(hInputDataT,[blockInfo.RowSize+1,0]));

    hWrDataLTN.setTargetCompReplacementCandidate(true);


    for ii=1:numel(hWrDataLTN.PirOutputSignals)
        hWrDataLTN.PirOutputSignals(ii).SimulinkRate=slRate;
    end

    hWrDataLTNinSigs=hWrDataLTN.PirInputSignals;
    hWrDataLTNoutSigs=hWrDataLTN.PirOutputSignals;


    Constant_out1_s5=l_addSignal(hWrDataLTN,'Constant_out1',hInputDataT,slRate);
    Switch_out1_s6=l_addSignal(hWrDataLTN,'Switch_out1',hInputDataT,slRate);
    Switch1_out1_s7=l_addSignal(hWrDataLTN,'Switch1_out1',hInputDataT,slRate);


    pirelab.getConstComp(hWrDataLTN,...
    Constant_out1_s5,...
    single(0),...
    'Constant','on',1,'','','');


    pirelab.getSwitchComp(hWrDataLTN,...
    [hWrDataLTNinSigs(3),Switch1_out1_s7],...
    Switch_out1_s6,...
    hWrDataLTNinSigs(1),'Switch',...
    '~=',0,'Floor','Wrap');


    pirelab.getSwitchComp(hWrDataLTN,...
    [hWrDataLTNinSigs(4),Constant_out1_s5],...
    Switch1_out1_s7,...
    hWrDataLTNinSigs(2),'Switch1',...
    '~=',0,'Floor','Wrap');

    SwitchDataOut=hdlhandles(blockInfo.RowSize,1);
    for itr=1:blockInfo.RowSize
        SwitchDataOut(itr)=Switch_out1_s6;
    end

    pirelab.getMuxComp(hWrDataLTN,...
    [(SwitchDataOut(1:end))',hWrDataLTNinSigs(5)],...
    hWrDataLTNoutSigs(1),...
    'concatenate');

    pirelab.instantiateNetwork(hN,hWrDataLTN,WrDataLTInSigs,WrDataLTOutSigs,...
    [hWrDataLTN.Name,'_inst']);

end

function hS=l_addSignal(hN,sigName,pirTyp,simulinkRate)
    hS=hN.addSignal;
    hS.Name=sigName;
    hS.Type=pirTyp;
    hS.SimulinkHandle=-1;
    hS.SimulinkRate=simulinkRate;
end


