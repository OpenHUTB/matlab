function hNewC=elaborate(this,hN,hC,BlockParam)






    din=hC.PirInputSignals(1);
    wr_addr=hC.PirInputSignals(2);
    we=hC.PirInputSignals(3);
    rd_addr=hC.PirInputSignals(4);
    wr_dout=hC.PirOutputSignals(1);
    rd_dout=hC.PirOutputSignals(2);

    if BlockParam.ramIsGeneric
        din_ram=this.addHDLSignal('NetWork',hN,...
        'Name','din_ram',...
        'SignalType',din,...
        'SimulinkHandle',-1);

        waddr_ram=this.addHDLSignal('NetWork',hN,...
        'Name','waddr_ram',...
        'SignalType',wr_addr,...
        'SimulinkHandle',-1);

        we_ram=this.addHDLSignal('NetWork',hN,...
        'Name','we_ram',...
        'SignalType',we,...
        'SimulinkHandle',-1);

        raddr_ram=this.addHDLSignal('NetWork',hN,...
        'Name','raddr_ram',...
        'SignalType',rd_addr,...
        'SimulinkHandle',-1);

        wdout_ram=this.addHDLSignal('NetWork',hN,...
        'Name','wdout_ram',...
        'SignalType',wr_dout,...
        'SimulinkHandle',-1);

        rdout_ram=this.addHDLSignal('NetWork',hN,...
        'Name','rdout_ram',...
        'SignalType',rd_dout,...
        'SimulinkHandle',-1);

        [~,hNewC]=this.addHDLComp(...
        'Network',hN,...
        'Component',hC,...
        'HDLComponentName',[hC.Name,'_wrapper'],...
        'HDLComponent',@emitRamWrapper,...
        'BlockParam',BlockParam,...
        'Input',[din,wr_addr,we,rd_addr,wdout_ram,rdout_ram],...
        'Output',[din_ram,waddr_ram,we_ram,raddr_ram,wr_dout,rd_dout],...
        'BlockComment','Dual Port RAM wrapper');

        hdlParam=this.getBlockParam(hC,BlockParam);
        this.addHDLComp(...
        'Network',hN,...
        'Component',hC,...
        'HDLComponentName',hC.Name,...
        'HDLComponent',hdldefaults.HDLC('hdl.dualPortRam',{'entityName',BlockParam.Name,'fullFileName',hdlParam.fullFileName}),...
        'BlockParam',BlockParam,...
        'Input',[din_ram,waddr_ram,we_ram,raddr_ram],...
        'Output',[wdout_ram,rdout_ram],...
        'AddHierarchy',true,...
        'BlockComment','Dual Port RAM');

    else
        hdlParam=this.getBlockParam(hC,BlockParam);
        [~,hNewC]=this.addHDLComp(...
        'Network',hN,...
        'Component',hC,...
        'HDLComponentName',hC.Name,...
        'HDLComponent',hdldefaults.HDLC('hdl.dualPortRam',{'entityName',BlockParam.Name,'fullFileName',hdlParam.fullFileName,'numRam',BlockParam.numRam}),...
        'BlockParam',BlockParam,...
        'Input',[din,wr_addr,we,rd_addr],...
        'Output',[wr_dout,rd_dout],...
        'AddHierarchy',true,...
        'BlockComment','Dual Port RAM');
    end

