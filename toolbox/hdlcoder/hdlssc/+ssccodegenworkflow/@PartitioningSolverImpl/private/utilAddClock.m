function hTSub=utilAddClock(dt,parent,dataType,position)




    dtString=strcat(dataType,'(',compactButAccurateNum2Str(dt),')');


    hTSub=utilAddSubsystem(parent,'Clock',position);

    TSubFullName=getfullname(hTSub);

    hSampleTimeConst=add_block('hdlsllib/Sources/Constant',strcat(TSubFullName,'/Sample Time'),...
    'MakeNameUnique','on',...
    'Value',dtString,...
    'OutDataTypeStr',dataType,...
    'SampleTime',compactButAccurateNum2Str(dt),...
    'Position',[70,25,100,55]);

    hsumBlk=add_block('hdlsllib/HDL Floating Point Operations/Add',strcat(TSubFullName,'/Sum'),...
    'MakeNameUnique','on',...
    'Position',[160,30,180,50],...
    'OutDataTypeStr',dataType,...
    'Inputs','++');


    hDelay=add_block('hdlsllib/Discrete/Delay',strcat(TSubFullName,'/Delay'),...
    'MakeNameUnique','on',...
    'DelayLength','1',...
    'Position',[220,23,255,57]);


    hOut=add_block('hdlsllib/Sinks/Out1',strcat(TSubFullName,'/t'),...
    'MakeNameUnique','on',...
    'Position',[295,33,325,47]);




    outPorts={strcat(get_param(hSampleTimeConst,'name'),'/1'),...
    strcat(get_param(hsumBlk,'name'),'/1'),...
    strcat(get_param(hDelay,'name'),'/1'),...
    strcat(get_param(hDelay,'name'),'/1')};


    inPorts={strcat(get_param(hsumBlk,'name'),'/1'),...
    strcat(get_param(hDelay,'name'),'/1'),...
    strcat(get_param(hOut,'name'),'/1'),...
    strcat(get_param(hsumBlk,'name'),'/2')};


    add_line(TSubFullName,outPorts,inPorts,'AutoRouting','smart')


end


