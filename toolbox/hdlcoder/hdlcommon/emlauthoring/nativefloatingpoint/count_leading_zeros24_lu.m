%#codegen
function y=count_leading_zeros24_lu(u)


    coder.allowpcode('plain')

    u_clz=bitor(u,bitshift(u,-1));
    u_clz=bitor(u_clz,bitshift(u_clz,-2));
    u_clz=bitor(u_clz,bitshift(u_clz,-4));
    u_clz=bitor(u_clz,bitshift(u_clz,-8));
    u_clz=bitor(u_clz,bitshift(u_clz,-16));

    idx1=bitand(u_clz,255);
    idx2=bitand(bitshift(u_clz,-8),255);
    idx3=bitand(bitshift(u_clz,-16),255);

    y_clz=clz_lookup(idx1+1);
    y_clz=y_clz+clz_lookup(idx2+1);
    y=y_clz+clz_lookup(idx3+1);
end


function y=clz_lookup(idx)

    clz_lu=uint8([
    8,7,6,6,5,5,5,5,...
    4,4,4,4,4,4,4,4,...
    3,3,3,3,3,3,3,3,...
    3,3,3,3,3,3,3,3,...
    2,2,2,2,2,2,2,2,...
    2,2,2,2,2,2,2,2,...
    2,2,2,2,2,2,2,2,...
    2,2,2,2,2,2,2,2,...
    1,1,1,1,1,1,1,1,...
    1,1,1,1,1,1,1,1,...
    1,1,1,1,1,1,1,1,...
    1,1,1,1,1,1,1,1,...
    1,1,1,1,1,1,1,1,...
    1,1,1,1,1,1,1,1,...
    1,1,1,1,1,1,1,1,...
    1,1,1,1,1,1,1,1,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0,...
    0,0,0,0,0,0,0,0
    ]);

    y=clz_lu(idx);
end
