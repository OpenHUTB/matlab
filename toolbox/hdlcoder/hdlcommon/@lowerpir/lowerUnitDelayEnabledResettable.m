function hNewC=lowerUnitDelayEnabledResettable(hN,hC)


    resetSignal=hC.getInputSignals('external_sync_reset');
    enableSignal=hC.getInputSignals('external_enable');

    hasExtEnable=~isempty(enableSignal);
    hasExtReset=~isempty(resetSignal);


    if hasExtEnable&&hasExtReset
        delayType=hdldelaytypeenum.DelayEnabledResettable;
    elseif hasExtEnable&&~hasExtReset
        delayType=hdldelaytypeenum.DelayEnabled;
    elseif~hasExtEnable&&hasExtReset
        delayType=hdldelaytypeenum.DelayResettable;
    else
        delayType=hdldelaytypeenum.Delay;
    end

    switch delayType
    case hdldelaytypeenum.Delay

    case hdldelaytypeenum.DelayEnabledResettable
        hNewC=pireml.getUnitDelayEnabledResettableComp(...
        hN,...
        hC.PirInputSignals(1),...
        hC.PirOutputSignals,...
        enableSignal,...
        resetSignal,...
        hC.Name,...
        hC.getInitialValue,...
        hC.getResetNone,...
        hC.getSoftreset);
    case hdldelaytypeenum.DelayEnabled
        hNewC=pireml.getUnitDelayEnabledComp(...
        hN,...
        hC.PirInputSignals(1),...
        hC.PirOutputSignals,...
        enableSignal,...
        hC.Name,...
        hC.getInitialValue,...
        hC.getResetNone);
    case hdldelaytypeenum.DelayResettable
        hNewC=pireml.getUnitDelayResettableComp(...
        hN,...
        hC.PirInputSignals(1),...
        hC.PirOutputSignals,...
        resetSignal,...
        hC.Name,...
        hC.getInitialValue,...
        hC.getResetNone,...
        hC.getSoftreset);
    end

end
