function dlgStruct=getDialogSchema(this,varargin)




    if isLibrary(this)
        globalEnable=0;
    else
        globalEnable=1;
    end

    if isempty(this.DescriptionShort)
        headText=this.ID;
    else
        headText=[this.ID,' - ',this.DescriptionShort];
    end

    chEl=this.getChooseElement;
    if isempty(chEl)
        dlgStruct=this.dlgContainer({
        this.dlgText(headText,...
        'WordWrap',1,...
        'RowSpan',[1,1],...
        'ColSpan',[1,1])
        this.dlgWidget('Value',...
        'Type','editarea',...
        'RowSpan',[2,2],...
        'ColSpan',[1,1],...
        'Enabled',globalEnable,...
        'Name',getString(message('rptgen:RptgenML_StylesheetHeader:xmlValueLabel')))
        },getString(message('rptgen:RptgenML_StylesheetHeader:valueLabel')),...
        'LayoutGrid',[2,1],'RowStretch',[0,1],...
        varargin{:});
    else

        oEl=this.getOtherwiseElement(chEl);

        dlgStruct=this.dlgContainer({
        this.dlgText(headText,...
        'WordWrap',1,...
        'RowSpan',[1,1],...
        'ColSpan',[1,2])
        this.dlgText(getString(message('rptgen:RptgenML_StylesheetHeader:conditionalValuesLabel')),...
        'RowSpan',[2,2],...
        'ColSpan',[1,1])
        struct('Type','pushbutton',...
        'ColSpan',[2,2],...
        'RowSpan',[2,2],...
        'Tag','addCell',...
        'ToolTip',getString(message('rptgen:RptgenML_StylesheetHeader:addEmptyCellLabel')),...
        'DialogRefresh',1,...
        'Enabled',globalEnable,...
        'MatlabMethod','addCell',...
        'MatlabArgs',{{'%source'}},...
        'Name',getString(message('rptgen:RptgenML_StylesheetHeader:addCellLabel')))
        RptgenML.dlgChildContainer(this,'',...
        'Enabled',globalEnable,...
        'RowSpan',[3,3],...
        'ColSpan',[1,2])
        RptgenML.StylesheetHeaderCell.dlgValueSpecial(this,'OtherwiseValue',oEl,...
        'ColSpan',[1,2],...
        'RowSpan',[4,4])
        },getString(message('rptgen:RptgenML_StylesheetHeader:valueLabel')),...
        'LayoutGrid',[4,2],'RowStretch',[0,0,0,1],'ColStretch',[1,0],...
        varargin{:});
    end



