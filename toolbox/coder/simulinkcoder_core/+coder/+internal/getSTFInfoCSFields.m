function csParam=getSTFInfoCSFields(genSet)













    csParam=[];
    saveFields=fields(genSet);

    mdlRefTgtType='NONE';
    if isfield(genSet,'ModelReferenceTargetType')
        mdlRefTgtType=getfield(genSet,'ModelReferenceTargetType');%#ok
    end

    alwaysOmit={'SystemTargetFile',...
    'mdlRefRelativeBuildDir',...
    'SharedUtilsSimDir',...
    'SharedUtilsTgtDir',...
    'BuildDirectory',...
    'CacheFolder',...
    'CodeGenFolder',...
    'mdlRefRelativeRootTgtDir',...
    'mdlRefRelativeRootSimDir'};

    if~strcmpi(mdlRefTgtType,'NONE')
        omitFields=[alwaysOmit,...
        'tlcTargetType',...
        'tlcLanguage',...
        'matFileLogging',...
        'ModelReferenceTargetType',...
        'GeneratedTLCSubDir',...
        'relativePathToAnchor',...
        'model',...
        ];
    else
        omitFields=[alwaysOmit,...
        'mdlRefRelativeSimDir',...
        'mdlRefRelativeHdlDir'];
    end

    saveFields=setdiff(saveFields,omitFields);


    for i=1:length(saveFields)
        eval(['csParam.',saveFields{i},' = genSet.',saveFields{i},';']);
    end


