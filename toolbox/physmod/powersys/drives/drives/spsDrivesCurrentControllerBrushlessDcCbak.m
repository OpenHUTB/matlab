function[]=spsDrivesCurrentControllerBrushlessDcCbak(block)


    detailLevel=get_param(block,'detailLevel');


    if~isequal(get_param(block,'LabelModeActiveChoice'),detailLevel)
        set_param(block,'LabelModeActiveChoice',detailLevel);
    end

    fluxConstantChoice=get_param(block,'machineConstant');
    switch fluxConstantChoice
    case 'Flux linkage established by magnets (V.s)'
        lambdaVisible='on';
        voltageCstVisible='off';
        torqueCstVisible='off';
        flatAreaVisible='off';

    case 'Voltage Constant (V_peak L-L / krpm)'
        lambdaVisible='off';
        voltageCstVisible='on';
        torqueCstVisible='off';
        flatAreaVisible='on';

    case 'Torque Constant (N.m / A_peak)'
        lambdaVisible='off';
        voltageCstVisible='off';
        torqueCstVisible='on';
        flatAreaVisible='on';
    end

    switch detailLevel
    case 'Detailed'
        maskEnables={...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        };
        maskVisibilities={...
        'on',...
        'on',...
        'on',...
        lambdaVisible,...
        voltageCstVisible,...
        torqueCstVisible,...
        flatAreaVisible,...
        'on',...
        'on',...
        'on',...
        };
    case 'Average'
        maskEnables={...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'on',...
        'off',...
        'on',...
        'off',...
        };
        maskVisibilities={...
        'on',...
        'on',...
        'on',...
        lambdaVisible,...
        voltageCstVisible,...
        torqueCstVisible,...
        flatAreaVisible,...
        'off',...
        'on',...
        'off',...
        };
    otherwise
        error(message('physmod:powersys:common:InvalidParameter',block,detailLevel,'Model detail level'));
    end
    if sps_Authoring(bdroot(block))
        set_param(block,'MaskEnables',maskEnables);
    end
    set_param(block,'MaskVisibilities',maskVisibilities);