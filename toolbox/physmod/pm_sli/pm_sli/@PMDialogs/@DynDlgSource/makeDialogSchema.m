function dlgSchema=makeDialogSchema(hThis,itemsToContain,type)












    disabled=hThis.getDialogFinalDisabledStatus();


    nPanels=numel(itemsToContain);
    for idx=1:nPanels
        itemsToContain{idx}.RowSpan=[idx,idx];
    end




    panel=struct(...
    'Name',{''},...
    'Type',{'panel'},...
    'Items',{itemsToContain},...
    'Source',{get_param(hThis.BlockHandle,'Object')},...
    'LayoutGrid',{[nPanels,1]});





    dlgSchema=struct(...
    'Items',{{panel}},...
    'CloseMethod',{'closeDialogCB'},...
    'CloseMethodArgs',{{'%dialog'}},...
    'CloseMethodArgsDT',{{'handle'}},...
    'PreApplyMethod',{'preApplyCallback'},...
    'PreApplyArgs',{{'%source'}},...
    'PreApplyArgsDT',{{'handle'}},...
    'PreRevertMethod',{'preRevertCallback'},...
    'PreRevertArgs',{{'%source'}},...
    'PreRevertArgsDT',{{'handle'}},...
    'HelpMethod',{'slhelp'},...
    'HelpArgs',{{hThis.BlockHandle}},...
    'HelpArgsDT',{{'double'}},...
    'DisableDialog',{disabled},...
    'ExplicitShow',{'false'},...
    'DialogRefresh',{hThis.DialogRefresh});

end
