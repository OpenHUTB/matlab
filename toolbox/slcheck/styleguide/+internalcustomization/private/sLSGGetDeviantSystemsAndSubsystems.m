function deviantSystems=...
    sLSGGetDeviantSystemsAndSubsystems(system,parameterToCheck,...
    targetParameterValue,followLinksValue,lookunderMasksValue)
















    deviantSystems={};

...
...
...
...
...
...
...
...
...
...
...
...
...
...
...




    subSystemHandles=find_system(system,...
    'MatchFilter',@Simulink.match.internal.filterOutInactiveVariantSubsystemChoices,...
    'FollowLinks',followLinksValue,...
    'LookUnderMasks',lookunderMasksValue,...
    'BlockType','SubSystem');

    if strcmp(system,bdroot(system))
        subSystemHandles{end+1,1}=system;
    end

    subSystemParameterValues=get_param(subSystemHandles,...
    parameterToCheck);

    for subSystemIndex=1:length(subSystemHandles)

        if(typeSpecificEqualityComparison(...
            subSystemParameterValues{subSystemIndex},...
            targetParameterValue)==true)


        else


            deviantSystems{end+1}=subSystemHandles{subSystemIndex};%#ok<AGROW>
        end

    end

end

function booleanResult=typeSpecificEqualityComparison(operand1,operand2)

    booleanResult=false;%#ok<NASGU>

    if((ischar(operand1))&&(ischar(operand2))...
        ||(iscell(operand1))&&(iscell(operand2))...
        ||(ischar(operand1))&&(iscell(operand2))...
        ||(iscell(operand1))&&(ischar(operand2)))
        booleanResult=strcmp(operand1,operand2);
    else
        booleanResult=(operand1==operand2);
    end
end
